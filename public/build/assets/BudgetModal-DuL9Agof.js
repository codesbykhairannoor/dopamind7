import{k as y,r as h,e as w,c as d,g as c,b as o,t as n,f as k,h as $,F as B,p as C,q as D,j as f,s as I,o as r}from"./app-Cbyo9c8T.js";import{u as z}from"./useFinanceFormat-CzVGBJm8.js";const F={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},S={class:"bg-white w-full max-w-sm rounded-[2rem] shadow-2xl z-10 p-6 animate-in zoom-in-95 duration-200"},j={class:"text-xl font-black text-slate-800 mb-6"},N={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},R={class:"flex gap-2"},E={class:"relative"},U={key:0,class:"absolute top-14 left-0 w-64 p-3 bg-white rounded-2xl shadow-xl border border-slate-100 z-50 grid grid-cols-6 gap-2 animate-in fade-in zoom-in-95 duration-100"},M=["onClick"],P=["placeholder"],V={key:0,class:"text-[10px] text-slate-400 mt-1 italic"},A={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},G={class:"relative"},L={class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold"},T=["value"],q={class:"flex gap-3 pt-2"},J=["disabled"],K={__name:"BudgetModal",props:{show:Boolean,form:Object,categories:Array,close:Function,submit:Function},setup(s){const a=s,{activeCurrency:u}=z(),i=h(!1),b=["ðŸ”","ðŸ›µ","âš¡","ðŸ›ï¸","ðŸ ","ðŸ’Š","ðŸ“š","ðŸŽ®","ðŸ¿","âœˆï¸","ðŸ¶","ðŸ”§","ðŸ’„","âš½","ðŸ’»","ðŸŽ","ðŸ’¸","â›½","ðŸ‘—"],m=f(()=>["IDR","EUR","de-DE"].includes(u.value)),g=f(()=>({IDR:"Rp",USD:"$",GBP:"Â£",EUR:"â‚¬",JPY:"Â¥"})[u.value]||u.value),v=t=>{if(!t)return"";const e=t.toString();return m.value?e.replace(/\B(?=(\d{3})+(?!\d))/g,"."):e.replace(/\B(?=(\d{3})+(?!\d))/g,",")},p=t=>{let e=m.value?t.target.value.replace(/\./g,""):t.target.value.replace(/,/g,"");isNaN(e)||(a.form.limit_amount=e)};y(()=>a.show,t=>{if(t)if(i.value=!1,a.form.id&&a.form.category){const e=a.categories.find(l=>l.slug===a.form.category);e&&(a.form.name=e.name,a.form.icon=e.icon)}else a.form.id||(a.form.reset(),a.form.icon="ðŸ’¸")});const x=t=>{a.form.id||(a.form.category=t.target.value.toLowerCase().trim().replace(/\s+/g,"_"))};return(t,e)=>(r(),w(I,{to:"body"},[s.show?(r(),d("div",F,[o("div",{onClick:e[0]||(e[0]=(...l)=>s.close&&s.close(...l)),class:"absolute inset-0 bg-slate-900/30 backdrop-blur-md transition-opacity"}),o("div",S,[o("h3",j,n(s.form.id?"âœï¸ "+t.$t("edit_budget"):"ðŸŽ¯ "+t.$t("new_budget")),1),o("form",{onSubmit:e[5]||(e[5]=k((...l)=>s.submit&&s.submit(...l),["prevent"])),class:"space-y-5"},[o("div",null,[o("label",N,n(t.$t("category_name")),1),o("div",R,[o("div",E,[o("button",{type:"button",onClick:e[1]||(e[1]=l=>i.value=!i.value),class:"w-12 h-12 flex items-center justify-center bg-slate-50 rounded-xl text-2xl border border-slate-100 hover:bg-slate-100 transition"},n(s.form.icon),1),i.value?(r(),d("div",U,[(r(),d(B,null,C(b,l=>o("button",{key:l,type:"button",onClick:O=>{s.form.icon=l,i.value=!1},class:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-indigo-50 text-lg transition"},n(l),9,M)),64))])):c("",!0),i.value?(r(),d("div",{key:1,onClick:e[2]||(e[2]=l=>i.value=!1),class:"fixed inset-0 z-40"})):c("",!0)]),$(o("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s.form.name=l),onInput:x,type:"text",placeholder:t.$t("placeholder_name"),class:"flex-1 px-4 py-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-bold text-slate-700"},null,40,P),[[D,s.form.name]])]),s.form.id?(r(),d("p",V,"*"+n(t.$t("budget_warning")),1)):c("",!0)]),o("div",null,[o("label",A,n(t.$t("budget_limit")),1),o("div",G,[o("span",L,n(g.value),1),o("input",{type:"text",value:v(s.form.limit_amount),onInput:p,placeholder:"0",class:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-black text-lg text-slate-700"},null,40,T)])]),o("div",q,[o("button",{type:"button",onClick:e[4]||(e[4]=(...l)=>s.close&&s.close(...l)),class:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl"},n(t.$t("cancel")),1),o("button",{type:"submit",disabled:s.form.processing,class:"flex-[2] py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all disabled:opacity-50"},n(s.form.processing?t.$t("saving"):t.$t("save")),9,J)])],32)])])):c("",!0)]))}};export{K as default};
