import{d as l}from"./dayjs.min-DFgTMVHU.js";import{u as v}from"./useFinanceFormat-BImKajoc.js";import"./en-Z6xsr5DU.js";import{r as n,j as b}from"./app-CWi7IB8A.js";function _(u){const{appLocale:m}=v(),c=n(!1),r=n(null),o=n(""),p=b(()=>{const t={},d=u.transactions||[];let s=m.value;const f=s.includes("-")?s.split("-")[0]:s;d.forEach(e=>{const a=l(e.date).format("YYYY-MM-DD");t[a]||(t[a]={date:a,dateObj:l(e.date).locale(f),transactions:[],total_income:0,total_expense:0}),t[a].transactions.push(e),e.type==="income"?t[a].total_income+=Number(e.amount):t[a].total_expense+=Number(e.amount)});const i=Object.values(t).sort((e,a)=>a.dateObj-e.dateObj);return o.value?i.filter(e=>e.date===o.value):i.slice(0,4)});return{filterDate:o,visibleStats:p,isArchiveOpen:c,selectedDayData:r,openDetail:t=>{r.value=t,c.value=!0}}}export{_ as u};
