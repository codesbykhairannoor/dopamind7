import{x as b,z as f,J as h,K as g,L as _,P as x,M as y,O as w,R as D,S as C,U as k,d as v,f as i,g as m,e as A,u as d,V as R,o as S}from"./vendor-BNleA0cf.js";import{u as E}from"./useFinanceFormat-B8cI5cQH.js";function I(t){const{formatMoney:l}=E(),n=(e,o)=>{if(typeof window.trans=="function"){const a=window.trans(e);return a!==e?a:o}return o};return{chartData:b(()=>{if(!t.currentDate)return{labels:[],datasets:[]};const e=f(t.currentDate).daysInMonth(),o=Array.from({length:e},(s,r)=>r+1),a=new Array(e).fill(0),p=new Array(e).fill(0);return t.transactions.forEach(s=>{const r=f(s.date).date()-1;s.type==="income"?a[r]+=Number(s.amount):p[r]+=Number(s.amount)}),{labels:o,datasets:[{label:n("income","Income"),backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"#10b981",data:a,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6},{label:n("expense","Expense"),backgroundColor:"rgba(244, 63, 94, 0.1)",borderColor:"#f43f5e",data:p,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6}]}}),chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:8}},tooltip:{mode:"index",intersect:!1,callbacks:{label:e=>` ${e.dataset.label}: ${l(e.raw)}`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9",borderDash:[5,5]},ticks:{callback:e=>e/1e3+"k"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}}const L={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 w-full mt-8"},M={class:"flex justify-between items-center mb-6"},N={class:"font-bold text-slate-700 text-sm uppercase tracking-wider"},O={class:"text-xs text-slate-400"},$={class:"h-[300px] w-full"},P={__name:"DailyTrendChart",props:{transactions:Array,currentDate:String},setup(t){h.register(g,_,x,y,w,D,C,k);const l=t,{chartData:n,chartOptions:u}=I(l);return(c,e)=>(S(),v("div",L,[i("div",M,[i("h3",N,m(c.$t("finance_trend")),1),i("span",O,m(c.$t("daily_chart")),1)]),i("div",$,[A(d(R),{data:d(n),options:d(u)},null,8,["data","options"])])]))}};export{P as default};
