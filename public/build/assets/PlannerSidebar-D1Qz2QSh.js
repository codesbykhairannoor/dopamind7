import{E as V,r as f,N as z,s as v,a as n,d as e,e as o,f as _,q as $,y as c,F as m,A as x,p as I,B as j,o as i,D,n as E}from"./vendor-vue-BpYG_UOO.js";import"./vendor-inertia-CzGZ5YH6.js";import"./vendor-utils-2VVJO3Sv.js";import"./vendor-core-Dt3pqkYV.js";const O={class:"flex flex-col gap-6 pb-10 select-none"},U={class:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200 relative overflow-hidden group"},A={class:"flex justify-between items-start mb-6 relative z-10"},F={class:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1"},J={class:"flex items-baseline gap-1"},q={class:"text-5xl font-black text-slate-800 tracking-tighter"},H={class:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-600 text-white shadow-lg shadow-indigo-100 transition-transform active:scale-95"},P={class:"flex h-2 w-full bg-slate-100 rounded-full overflow-hidden mb-4 p-0.5 border border-slate-50"},R={class:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest text-slate-400"},G={class:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200"},K={class:"flex justify-between items-center mb-5"},Q={class:"flex items-center gap-3"},W={class:"font-black text-slate-800 text-sm tracking-tight"},X={class:"text-[9px] text-slate-400 font-bold uppercase tracking-tighter italic"},Y={key:0,class:"text-center py-10 border-2 border-dashed border-slate-100 rounded-[2rem] bg-slate-50/30"},Z={class:"text-xs text-slate-400 font-black italic tracking-widest"},ee={key:1,class:"space-y-3 max-h-[350px] overflow-y-auto pr-1 scrollbar-none"},te={class:"flex items-center gap-3 min-w-0 flex-1"},se=["onClick"],le={key:0,class:"w-4 h-4 stroke-[4]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},oe=["onClick"],ae=["onUpdate:modelValue"],re=["onClick"],ne={class:"bg-yellow-50 p-1 rounded-[2.5rem] shadow-sm border border-yellow-200 transform rotate-1 transition-transform hover:rotate-0 duration-500"},ie={class:"bg-yellow-100/50 p-6 rounded-[2.2rem] border-dashed border-2 border-yellow-200/60"},de={class:"text-[10px] font-black text-yellow-700/70 uppercase tracking-widest mb-3 flex items-center gap-2"},ce=["placeholder"],ue={class:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200"},pe={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2"},be={class:"space-y-3"},ge={class:"text-xl flex-shrink-0"},me=["value","onInput","placeholder"],xe={class:"bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200"},he={class:"flex justify-between items-center mb-4"},fe={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"},ve={class:"text-xs font-black text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full"},_e={class:"grid grid-cols-4 gap-2 p-1 bg-slate-50 rounded-[1.5rem] border border-slate-100"},we=["onClick"],Ie={__name:"PlannerSidebar",props:{stats:{type:Object,default:()=>({percent:0,completed:0,total:0})},localNotes:String,localMeals:{type:Object,default:()=>({breakfast:"",lunch:"",dinner:""})}},emits:["update:localNotes","update:localMeals"],setup(h,{emit:ye}){const w=h,a=f([]),d=f(0),p=f(""),y=()=>{a.value=[],d.value=0,p.value="",localStorage.removeItem("p_manual_tasks"),localStorage.removeItem("p_water"),localStorage.removeItem("p_notes")};V(()=>{a.value=JSON.parse(localStorage.getItem("p_manual_tasks"))||[],d.value=Number(localStorage.getItem("p_water"))||0,p.value=localStorage.getItem("p_notes")||"",window.addEventListener("reset-local-storage",y)}),z(()=>{window.removeEventListener("reset-local-storage",y)}),v(a,t=>localStorage.setItem("p_manual_tasks",JSON.stringify(t)),{deep:!0}),v(d,t=>localStorage.setItem("p_water",t)),v(p,t=>localStorage.setItem("p_notes",t));const M=()=>{a.value.unshift({id:Date.now(),title:"",is_completed:!1,type:2})},T=t=>{a.value=a.value.filter(l=>l.id!==t)},N=t=>{t.type=t.type>=3?1:t.type+1},k=t=>{switch(t){case 1:return{icon:"ðŸ”¥",style:"bg-rose-50 text-rose-600 border-rose-100"};case 2:return{icon:"âš¡",style:"bg-indigo-50 text-indigo-600 border-indigo-100"};case 3:return{icon:"â˜•",style:"bg-emerald-50 text-emerald-600 border-emerald-100"};default:return{icon:"ðŸ“",style:"bg-slate-50 text-slate-600 border-slate-100"}}},b=$(()=>{var C,S;const t=((C=w.stats)==null?void 0:C.completed)||0,l=((S=w.stats)==null?void 0:S.total)||0,s=a.value.filter(L=>L.is_completed).length,r=a.value.length,u=l+r,g=t+s;return{percent:u>0?Math.round(g/u*100):0,completed:g,total:u}}),B=$(()=>[{count:a.value.filter(t=>t.type===1).length,color:"bg-rose-400"},{count:a.value.filter(t=>t.type===2).length,color:"bg-indigo-400"},{count:a.value.filter(t=>t.type===3).length,color:"bg-emerald-400"}]);return(t,l)=>(i(),n("div",O,[e("div",U,[l[3]||(l[3]=e("div",{class:"absolute -right-4 -top-4 w-24 h-24 bg-indigo-50/50 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-1000"},null,-1)),e("div",A,[e("div",null,[e("h3",F,o(t.$t("sidebar_daily_focus")),1),e("div",J,[e("span",q,[_(o(b.value.percent),1),l[1]||(l[1]=e("span",{class:"text-xl text-slate-300"},"%",-1))])])]),e("div",H,[e("span",{class:c(["text-2xl",{"animate-bounce":b.value.percent===100}])},o(b.value.percent===100?"ðŸ†":"ðŸš€"),3)])]),e("div",P,[(i(!0),n(m,null,x(B.value,(s,r)=>(i(),n("div",{key:r,style:D({width:s.count/(a.value.length||1)*100+"%"}),class:c([s.color,"transition-all duration-1000 h-full first:rounded-l-full last:rounded-r-full"])},null,6))),128))]),e("div",R,[e("span",null,o(b.value.completed)+" / "+o(b.value.total)+" "+o(t.$t("sidebar_done_suffix")),1),l[2]||(l[2]=e("span",{class:"text-indigo-600"},"Active",-1))])]),e("div",G,[e("div",K,[e("div",Q,[l[4]||(l[4]=e("div",{class:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-xl"},"ðŸ“¥",-1)),e("div",null,[e("h3",W,o(t.$t("sidebar_inbox_title")),1),e("p",X,o(t.$t("sidebar_persistent")),1)])]),e("button",{onClick:M,class:"p-2.5 rounded-xl bg-slate-900 text-white hover:bg-indigo-600 transition-all active:scale-90 shadow-md"},[...l[5]||(l[5]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{d:"M12 4v16m8-8H4"})],-1)])])]),a.value.length?(i(),n("div",ee,[(i(!0),n(m,null,x(a.value,s=>(i(),n("div",{key:s.id,class:c(["group flex items-center justify-between gap-3 p-3 rounded-2xl border-2 border-slate-50 bg-white hover:border-indigo-100 transition-all",{"opacity-50 grayscale-[0.5] bg-slate-50":s.is_completed}])},[e("div",te,[e("button",{onClick:r=>s.is_completed=!s.is_completed,class:c(["w-6 h-6 rounded-lg border-2 flex items-center justify-center flex-shrink-0 transition-all",s.is_completed?"bg-emerald-500 border-emerald-500 text-white":"border-slate-200 hover:border-indigo-400"])},[s.is_completed?(i(),n("svg",le,[...l[6]||(l[6]=[e("path",{d:"M5 13l4 4L19 7"},null,-1)])])):E("",!0)],10,se),e("button",{onClick:r=>N(s),class:c(["w-8 h-8 rounded-xl border flex items-center justify-center text-sm transition active:scale-90 flex-shrink-0",k(s.type).style])},o(k(s.type).icon),11,oe),I(e("input",{"onUpdate:modelValue":r=>s.title=r,class:c(["flex-1 bg-transparent border-0 focus:ring-0 p-0 text-sm font-black text-slate-700 placeholder-slate-300 truncate",{"line-through text-slate-400":s.is_completed}]),placeholder:"..."},null,10,ae),[[j,s.title]])]),e("button",{onClick:r=>T(s.id),class:"opacity-0 group-hover:opacity-100 text-rose-300 hover:text-rose-600 transition-all flex-shrink-0"},[...l[7]||(l[7]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M6 18L18 6M6 6l12 12"})],-1)])],8,re)],2))),128))])):(i(),n("div",Y,[e("p",Z,o(t.$t("sidebar_inbox_empty")),1)]))]),e("div",ne,[e("div",ie,[e("h3",de," ðŸ“Œ "+o(t.$t("sidebar_notes_title")),1),I(e("textarea",{"onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),class:"w-full bg-transparent border-0 focus:ring-0 text-sm font-medium text-slate-700 p-0 h-32 resize-none leading-[24px]",style:{"background-image":"linear-gradient(transparent, transparent 23px, #eab30820 24px)","background-size":"100% 24px"},placeholder:t.$t("sidebar_notes_placeholder")},null,8,ce),[[j,p.value]])])]),e("div",ue,[e("h3",pe,[l[8]||(l[8]=e("span",{class:"bg-orange-100 text-orange-600 p-1.5 rounded-lg text-xs"},"ðŸ½ï¸",-1)),_(" "+o(t.$t("sidebar_meal_title")),1)]),e("div",be,[(i(),n(m,null,x({breakfast:"ðŸ³",lunch:"ðŸ±",dinner:"ðŸ¥—"},(s,r)=>{var u;return e("div",{key:r,class:"flex items-center gap-3 p-3 rounded-2xl bg-orange-50/30 border border-orange-50 focus-within:bg-white focus-within:border-orange-200 transition-all"},[e("span",ge,o(s),1),e("input",{value:(u=h.localMeals)==null?void 0:u[r],onInput:g=>t.$emit("update:localMeals",{...h.localMeals,[r]:g.target.value}),class:"w-full text-xs font-black border-0 focus:ring-0 p-0 bg-transparent text-slate-700 placeholder-orange-200",placeholder:t.$t("placeholder_"+r)},null,40,me)])}),64))])]),e("div",xe,[e("div",he,[e("h3",fe,[l[9]||(l[9]=e("span",{class:"bg-blue-100 text-blue-600 p-1.5 rounded-lg text-xs"},"ðŸ’§",-1)),_(" "+o(t.$t("sidebar_water_title")),1)]),e("span",ve,o(d.value)+" / 8",1)]),e("div",_e,[(i(),n(m,null,x(8,s=>e("button",{key:s,type:"button",onClick:r=>d.value=s===d.value?s-1:s,class:c(["h-10 flex items-center justify-center transition-all duration-300 transform active:scale-75 rounded-xl",s<=d.value?"bg-white shadow-md":"opacity-20 grayscale"])},[...l[10]||(l[10]=[e("span",{class:"text-lg"},"ðŸ’§",-1)])],10,we)),64))])])]))}};export{Ie as default};
