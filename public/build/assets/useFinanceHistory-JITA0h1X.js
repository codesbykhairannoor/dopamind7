import{d as l}from"./vendor-core-DiSaF3BQ.js";import{u as v}from"./useFinanceFormat-B3wYmZpj.js";import{r as n,q as b}from"./vendor-vue-D5HGItUD.js";function Y(u){const{appLocale:d}=v(),c=n(!1),r=n(null),o=n(""),m=b(()=>{const t={},p=u.transactions||[];let s=d.value;const f=s.includes("-")?s.split("-")[0]:s;p.forEach(e=>{const a=l(e.date).format("YYYY-MM-DD");t[a]||(t[a]={date:a,dateObj:l(e.date).locale(f),transactions:[],total_income:0,total_expense:0}),t[a].transactions.push(e),e.type==="income"?t[a].total_income+=Number(e.amount):t[a].total_expense+=Number(e.amount)});const i=Object.values(t).sort((e,a)=>a.dateObj-e.dateObj);return o.value?i.filter(e=>e.date===o.value):i.slice(0,4)});return{filterDate:o,visibleStats:m,isArchiveOpen:c,selectedDayData:r,openDetail:t=>{r.value=t,c.value=!0}}}export{Y as u};
