import{A as bt,B as ct,Q as ft,r as G,q as yt,h as et,T as wt,c as _,a as mt,u as z,Z as kt,w as $t,g as F,b as t,o as y,t as d,d as dt,f as ht,j as pt,C as xt,F as R,D as st,E as Z,G as q,N as ut,H as Mt}from"./app-DoqWdQkR.js";import{_ as St}from"./AuthenticatedLayout-DsAPJEEI.js";var gt={exports:{}};(function(T,S){(function(H,p){T.exports=p()})(ct,function(){var H=1e3,p=6e4,b=36e5,E="millisecond",$="second",M="minute",j="hour",h="day",U="week",c="month",g="quarter",Y="year",N="date",L="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ot=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var r=["th","st","nd","rd"],n=u%100;return"["+u+(r[(n-20)%10]||r[n]||r[0])+"]"}},B=function(u,r,n){var i=String(u);return!i||i.length>=r?u:""+Array(r+1-i.length).join(n)+u},nt={s:B,z:function(u){var r=-u.utcOffset(),n=Math.abs(r),i=Math.floor(n/60),l=n%60;return(r<=0?"+":"-")+B(i,2,"0")+":"+B(l,2,"0")},m:function u(r,n){if(r.date()<n.date())return-u(n,r);var i=12*(n.year()-r.year())+(n.month()-r.month()),l=r.clone().add(i,c),s=n-l<0,e=r.clone().add(i+(s?-1:1),c);return+(-(i+(n-l)/(s?l-e:e-l))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:c,y:Y,w:U,d:h,D:N,h:j,m:M,s:$,ms:E,Q:g}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},Q="en",D={};D[Q]=W;var rt="$isDayjsObject",X=function(u){return u instanceof P||!(!u||!u[rt])},tt=function u(r,n,i){var l;if(!r)return Q;if(typeof r=="string"){var s=r.toLowerCase();D[s]&&(l=s),n&&(D[s]=n,l=s);var e=r.split("-");if(!l&&e.length>1)return u(e[0])}else{var f=r.name;D[f]=r,l=f}return!i&&l&&(Q=l),l||!i&&Q},v=function(u,r){if(X(u))return u.clone();var n=typeof r=="object"?r:{};return n.date=u,n.args=arguments,new P(n)},x=nt;x.l=tt,x.i=X,x.w=function(u,r){return v(u,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var P=function(){function u(n){this.$L=tt(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[rt]=!0}var r=u.prototype;return r.parse=function(n){this.$d=function(i){var l=i.date,s=i.utc;if(l===null)return new Date(NaN);if(x.u(l))return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){var e=l.match(I);if(e){var f=e[2]-1||0,o=(e[7]||"0").substring(0,3);return s?new Date(Date.UTC(e[1],f,e[3]||1,e[4]||0,e[5]||0,e[6]||0,o)):new Date(e[1],f,e[3]||1,e[4]||0,e[5]||0,e[6]||0,o)}}return new Date(l)}(n),this.init()},r.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},r.$utils=function(){return x},r.isValid=function(){return this.$d.toString()!==L},r.isSame=function(n,i){var l=v(n);return this.startOf(i)<=l&&l<=this.endOf(i)},r.isAfter=function(n,i){return v(n)<this.startOf(i)},r.isBefore=function(n,i){return this.endOf(i)<v(n)},r.$g=function(n,i,l){return x.u(n)?this[i]:this.set(l,n)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(n,i){var l=this,s=!!x.u(i)||i,e=x.p(n),f=function(K,O){var V=x.w(l.$u?Date.UTC(l.$y,O,K):new Date(l.$y,O,K),l);return s?V:V.endOf(h)},o=function(K,O){return x.w(l.toDate()[K].apply(l.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(O)),l)},m=this.$W,a=this.$M,w=this.$D,k="set"+(this.$u?"UTC":"");switch(e){case Y:return s?f(1,0):f(31,11);case c:return s?f(1,a):f(0,a+1);case U:var J=this.$locale().weekStart||0,C=(m<J?m+7:m)-J;return f(s?w-C:w+(6-C),a);case h:case N:return o(k+"Hours",0);case j:return o(k+"Minutes",1);case M:return o(k+"Seconds",2);case $:return o(k+"Milliseconds",3);default:return this.clone()}},r.endOf=function(n){return this.startOf(n,!1)},r.$set=function(n,i){var l,s=x.p(n),e="set"+(this.$u?"UTC":""),f=(l={},l[h]=e+"Date",l[N]=e+"Date",l[c]=e+"Month",l[Y]=e+"FullYear",l[j]=e+"Hours",l[M]=e+"Minutes",l[$]=e+"Seconds",l[E]=e+"Milliseconds",l)[s],o=s===h?this.$D+(i-this.$W):i;if(s===c||s===Y){var m=this.clone().set(N,1);m.$d[f](o),m.init(),this.$d=m.set(N,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](o);return this.init(),this},r.set=function(n,i){return this.clone().$set(n,i)},r.get=function(n){return this[x.p(n)]()},r.add=function(n,i){var l,s=this;n=Number(n);var e=x.p(i),f=function(a){var w=v(s);return x.w(w.date(w.date()+Math.round(a*n)),s)};if(e===c)return this.set(c,this.$M+n);if(e===Y)return this.set(Y,this.$y+n);if(e===h)return f(1);if(e===U)return f(7);var o=(l={},l[M]=p,l[j]=b,l[$]=H,l)[e]||1,m=this.$d.getTime()+n*o;return x.w(m,this)},r.subtract=function(n,i){return this.add(-1*n,i)},r.format=function(n){var i=this,l=this.$locale();if(!this.isValid())return l.invalidDate||L;var s=n||"YYYY-MM-DDTHH:mm:ssZ",e=x.z(this),f=this.$H,o=this.$m,m=this.$M,a=l.weekdays,w=l.months,k=l.meridiem,J=function(O,V,lt,at){return O&&(O[V]||O(i,s))||lt[V].slice(0,at)},C=function(O){return x.s(f%12||12,O,"0")},K=k||function(O,V,lt){var at=O<12?"AM":"PM";return lt?at.toLowerCase():at};return s.replace(ot,function(O,V){return V||function(lt){switch(lt){case"YY":return String(i.$y).slice(-2);case"YYYY":return x.s(i.$y,4,"0");case"M":return m+1;case"MM":return x.s(m+1,2,"0");case"MMM":return J(l.monthsShort,m,w,3);case"MMMM":return J(w,m);case"D":return i.$D;case"DD":return x.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return J(l.weekdaysMin,i.$W,a,2);case"ddd":return J(l.weekdaysShort,i.$W,a,3);case"dddd":return a[i.$W];case"H":return String(f);case"HH":return x.s(f,2,"0");case"h":return C(1);case"hh":return C(2);case"a":return K(f,o,!0);case"A":return K(f,o,!1);case"m":return String(o);case"mm":return x.s(o,2,"0");case"s":return String(i.$s);case"ss":return x.s(i.$s,2,"0");case"SSS":return x.s(i.$ms,3,"0");case"Z":return e}return null}(O)||e.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(n,i,l){var s,e=this,f=x.p(i),o=v(n),m=(o.utcOffset()-this.utcOffset())*p,a=this-o,w=function(){return x.m(e,o)};switch(f){case Y:s=w()/12;break;case c:s=w();break;case g:s=w()/3;break;case U:s=(a-m)/6048e5;break;case h:s=(a-m)/864e5;break;case j:s=a/b;break;case M:s=a/p;break;case $:s=a/H;break;default:s=a}return l?s:x.a(s)},r.daysInMonth=function(){return this.endOf(c).$D},r.$locale=function(){return D[this.$L]},r.locale=function(n,i){if(!n)return this.$L;var l=this.clone(),s=tt(n,i,!0);return s&&(l.$L=s),l},r.clone=function(){return x.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},u}(),it=P.prototype;return v.prototype=it,[["$ms",E],["$s",$],["$m",M],["$H",j],["$W",h],["$M",c],["$y",Y],["$D",N]].forEach(function(u){it[u[1]]=function(r){return this.$g(r,u[0],u[1])}}),v.extend=function(u,r){return u.$i||(u(r,P,v),u.$i=!0),v},v.locale=tt,v.isDayjs=X,v.unix=function(u){return v(1e3*u)},v.en=D[Q],v.Ls=D,v.p={},v})})(gt);var vt=gt.exports;const A=bt(vt);var Dt={exports:{}};(function(T,S){(function(H,p){T.exports=p(vt)})(ct,function(H){function p($){return $&&typeof $=="object"&&"default"in $?$:{default:$}}var b=p(H),E={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function($){return $+"."}};return b.default.locale(E,null,!0),E})})(Dt);var Ct={exports:{}};(function(T,S){(function(H,p){T.exports=p()})(ct,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var p=["th","st","nd","rd"],b=H%100;return"["+H+(p[(b-20)%10]||p[b]||p[0])+"]"}}})})(Ct);var _t={exports:{}};(function(T,S){(function(H,p){T.exports=p()})(ct,function(){return function(H,p,b){var E=p.prototype,$=function(c){return c&&(c.indexOf?c:c.s)},M=function(c,g,Y,N,L){var I=c.name?c:c.$locale(),ot=$(I[g]),W=$(I[Y]),B=ot||W.map(function(Q){return Q.slice(0,N)});if(!L)return B;var nt=I.weekStart;return B.map(function(Q,D){return B[(D+(nt||0))%7]})},j=function(){return b.Ls[b.locale()]},h=function(c,g){return c.formats[g]||function(Y){return Y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,L,I){return L||I.slice(1)})}(c.formats[g.toUpperCase()])},U=function(){var c=this;return{months:function(g){return g?g.format("MMMM"):M(c,"months")},monthsShort:function(g){return g?g.format("MMM"):M(c,"monthsShort","months",3)},firstDayOfWeek:function(){return c.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):M(c,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):M(c,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):M(c,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return h(c.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};E.localeData=function(){return U.bind(this)()},b.localeData=function(){var c=j();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return b.weekdays()},weekdaysShort:function(){return b.weekdaysShort()},weekdaysMin:function(){return b.weekdaysMin()},months:function(){return b.months()},monthsShort:function(){return b.monthsShort()},longDateFormat:function(g){return h(c,g)},meridiem:c.meridiem,ordinal:c.ordinal}},b.months=function(){return M(j(),"months")},b.monthsShort=function(){return M(j(),"monthsShort","months",3)},b.weekdays=function(c){return M(j(),"weekdays",null,null,c)},b.weekdaysShort=function(c){return M(j(),"weekdaysShort","weekdays",3,c)},b.weekdaysMin=function(c){return M(j(),"weekdaysMin","weekdays",2,c)}}})})(_t);var jt=_t.exports;const Yt=bt(jt),Ht={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},Ot={class:"bg-white rounded-[2rem] p-6 md:p-8 w-full max-w-sm relative z-10 shadow-2xl animate-in zoom-in-95 text-center overflow-hidden"},Lt={class:"text-xl font-black text-slate-800 mb-2"},zt={class:"text-sm text-slate-500 mb-6 leading-relaxed"},At={class:"font-bold text-slate-800 bg-slate-100 px-2 py-0.5 rounded"},Tt={class:"flex gap-3"},Nt={key:1,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},Jt={class:"bg-white rounded-[2rem] p-6 md:p-8 w-full max-w-sm relative z-10 shadow-2xl animate-in zoom-in-95 text-center overflow-hidden border border-slate-100"},Ft={class:"text-xl font-black text-slate-800 mb-2"},It={class:"text-sm text-slate-500 mb-8 leading-relaxed"},Et={class:"flex gap-3"},Qt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ut={class:"bg-white rounded-[2rem] p-6 md:p-8 w-full max-w-lg relative z-10 shadow-2xl animate-in zoom-in-95"},Wt={class:"flex justify-between items-center mb-6"},Bt={class:"text-xl md:text-2xl font-black text-slate-800"},Vt={class:"text-xs font-bold text-slate-400 uppercase mb-2 block"},Pt={class:"text-xs font-bold text-slate-400 uppercase mb-2 block"},Kt={class:"grid grid-cols-6 gap-2 bg-slate-50 p-2 rounded-xl border border-slate-100 max-h-32 md:max-h-40 overflow-y-auto custom-scrollbar"},Gt=["onClick"],Rt={class:"flex gap-4 md:gap-6"},Zt={class:"flex-1"},qt={class:"text-xs font-bold text-slate-400 uppercase mb-2 block"},Xt={class:"flex flex-wrap gap-2"},te=["onClick"],ee={key:0,class:"text-white font-bold text-xs"},se={class:"flex-1"},oe={class:"text-xs font-bold text-slate-400 uppercase mb-2 block"},ne={class:"flex gap-3 pt-2"},re=["disabled"],le={class:"bg-white border-b border-slate-100 sticky top-0 z-40"},ie={class:"max-w-full mx-auto px-4 py-4 md:py-6"},ae={class:"flex flex-col md:flex-row justify-between items-center gap-4"},de={class:"w-full md:w-auto text-left"},ue={class:"inline-flex items-center gap-2 text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider mb-1"},ce={class:"text-xl md:text-3xl font-black text-slate-800 tracking-tight"},fe={class:"text-indigo-600"},me={class:"text-slate-500 text-sm mt-1 hidden md:block"},he={class:"flex items-center justify-between w-full md:w-auto gap-3"},pe={class:"flex items-center bg-slate-50 rounded-xl border border-slate-200 p-1 flex-1 md:flex-none justify-center"},xe={class:"px-2 md:px-4 text-[10px] md:text-xs font-bold text-slate-700 uppercase tracking-wide min-w-[80px] text-center"},be={class:"hidden md:flex flex-col items-end mr-2"},ge={class:"text-[10px] font-bold text-slate-400 uppercase"},ve={class:"flex items-center gap-2"},_e={class:"w-24 h-2 bg-slate-100 rounded-full overflow-hidden"},ye={class:"text-xs font-black text-slate-700"},we={class:"hidden sm:inline"},ke={class:"border-t border-slate-100 pt-2 mt-3 flex items-center gap-4 md:gap-6 overflow-x-auto pb-1 md:pb-0 scrollbar-hide"},$e={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider shrink-0"},Me={class:"flex items-center gap-1.5 shrink-0"},Se={class:"text-[10px] md:text-xs text-slate-600 font-bold"},De={class:"flex items-center gap-1.5 shrink-0"},Ce={class:"text-[10px] md:text-xs text-slate-600 font-bold"},je={class:"flex items-center gap-1.5 shrink-0"},Ye={class:"text-[10px] md:text-xs text-slate-500 font-medium"},He={class:"w-full md:max-w-[95%] mx-auto md:px-2 pt-4 md:pt-8 pb-20"},Oe={key:0,class:"bg-white md:rounded-3xl shadow-sm md:shadow-[0_2px_20px_rgba(0,0,0,0.04)] border-y md:border border-slate-100 overflow-hidden relative"},Le={class:"overflow-x-auto custom-scrollbar relative"},ze={class:"min-w-max"},Ae={class:"sticky top-0 z-30 bg-white border-b border-slate-100 flex shadow-sm"},Te={class:"flex items-center px-2 md:px-4 py-2 md:py-3 gap-1 md:gap-1.5"},Ne={class:"text-[9px] md:text-[10px] font-bold text-slate-400 capitalize"},Je={class:"hidden md:flex sticky right-0 z-40 bg-white w-32 p-4 border-l border-slate-100 items-center justify-end font-bold text-slate-400 text-xs uppercase tracking-wider shadow-[-10px_0_20px_rgba(255,255,255,0.8)]"},Fe={class:"divide-y divide-slate-50"},Ie={class:"sticky left-0 z-20 w-36 md:w-72 bg-white group-hover:bg-slate-50 transition-colors border-r border-slate-100 p-3 md:p-4 flex items-center gap-3 md:gap-4 flex-shrink-0"},Ee={class:"min-w-0 flex-1"},Qe={class:"font-bold text-slate-700 truncate text-xs md:text-sm"},Ue={class:"flex items-center gap-1 text-[10px] font-medium text-slate-400 mb-1.5 mt-0.5"},We={class:"flex items-center gap-2"},Be={class:"h-1 md:h-1.5 w-10 md:w-16 bg-slate-100 rounded-full overflow-hidden"},Ve=["onClick"],Pe={class:"hidden md:flex opacity-0 group-hover:opacity-100 transition items-center gap-1 bg-white/80 backdrop-blur-sm px-1 rounded-md absolute right-2 top-1/2 -translate-y-1/2 shadow-sm border border-slate-100 z-50"},Ke=["onClick"],Ge=["onClick"],Re={class:"flex items-center px-2 md:px-4 py-2 md:py-3 gap-1 md:gap-1.5"},Ze=["id","onClick","onContextmenu","onKeydown","disabled"],qe={key:0,class:"text-[10px] md:text-xs font-black drop-shadow-sm"},Xe={key:1,class:"text-[10px] md:text-xs font-bold"},ts={class:"hidden md:flex sticky right-0 z-20 w-32 bg-white group-hover:bg-slate-50 transition-colors border-l border-slate-100 p-4 flex-col justify-center shadow-[-10px_0_20px_rgba(255,255,255,0.8)]"},es={class:"flex justify-between items-end mb-1"},ss={class:"text-lg font-black text-slate-700"},os={class:"text-[10px] font-bold text-slate-400 mb-1"},ns={class:"w-full bg-slate-200 rounded-full h-1.5 overflow-hidden"},rs={key:1,class:"bg-white rounded-3xl p-8 md:p-12 text-center shadow-lg border border-slate-100 mt-6 mx-4 md:mx-0"},ls={class:"text-lg md:text-xl font-bold text-slate-800"},is={class:"text-sm md:text-base text-slate-500 mb-6"},as={class:"flex flex-col md:flex-row items-center justify-center gap-4"},ds={key:2,class:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 animate-in slide-in-from-bottom-5 px-4 md:px-0"},us={class:"bg-indigo-600 rounded-2xl p-5 md:p-6 text-white shadow-xl shadow-indigo-200"},cs={class:"text-indigo-200 text-[10px] md:text-xs font-bold uppercase mb-1"},fs={class:"text-3xl md:text-4xl font-black mb-2"},ms={class:"w-full bg-indigo-800 rounded-full h-2"},hs={class:"bg-white rounded-2xl p-5 md:p-6 shadow-sm border border-slate-100 flex items-center gap-4"},ps={class:"text-slate-400 text-[10px] md:text-xs font-bold uppercase"},xs={class:"text-xl md:text-2xl font-black text-slate-800"},bs={class:"relative"},gs={class:"flex-1 min-w-0"},vs={class:"text-slate-400 text-[10px] md:text-xs font-bold uppercase flex justify-between items-center"},_s={class:"text-lg md:text-xl font-black text-slate-800 truncate"},ys={key:1,class:"absolute bottom-full mb-2 left-0 w-full bg-white rounded-2xl shadow-xl border border-slate-100 p-2 z-30 animate-in slide-in-from-bottom-2 grid grid-cols-1 gap-1 max-h-64 overflow-y-auto custom-scrollbar"},ws=["onClick"],ks={class:"font-bold text-sm text-slate-700"},$s={key:0,class:"ml-auto text-indigo-600 font-bold"},Ds={__name:"Index",props:{habits:Object,currentMonth:String,monthQuery:String,hasPrevHabits:Boolean,prevMonthQuery:String,savedMood:String},setup(T){A.extend(Yt);const S=T,H=ft().props.auth.user,p=G(JSON.parse(JSON.stringify(S.habits.data)));yt(()=>S.habits,s=>{p.value=JSON.parse(JSON.stringify(s.data))},{deep:!0});const b=G(!1),E=A().locale("id").format("dddd, D MMMM YYYY"),$=et(()=>{const s=A().hour();return s<11?"greet_morning":s<15?"greet_noon":s<19?"greet_afternoon":"greet_night"}),M=["ðŸ”¥","ðŸ’§","ðŸƒâ€â™‚ï¸","ðŸ“š","ðŸ§˜â€â™‚ï¸","ðŸ’»","ðŸ’°","ðŸ’Š","ðŸ¥¦","ðŸ’¤","ðŸ§¹","ðŸŽ¸","ðŸŽ¨","ðŸ¶","ðŸŽ“","âš¡","ðŸš«","ðŸ¥—","ðŸ‹ï¸","ðŸš´","ðŸ¤²","ðŸ•Œ","âœˆï¸","ðŸŽµ"],j=["#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6","#6366f1","#d946ef","#8b5cf6","#64748b"],h=wt({id:null,name:"",icon:"âš¡",color:"#6366f1",monthly_target:20}),U=et(()=>{const s=ft().props.locale||"id";A.locale(s);const e=S.monthQuery?A(S.monthQuery):A(),f=e.daysInMonth();let o=[];for(let m=1;m<=f;m++){const a=e.date(m);o.push({dateString:a.format("YYYY-MM-DD"),dayNumber:m,dayName:a.format("ddd"),isToday:a.isSame(A(),"day"),isFuture:a.isAfter(A(),"day")})}return o}),c=et(()=>{if(p.value.length===0)return 0;const s=A().format("YYYY-MM-DD");let e=0;return p.value.forEach(f=>{const o=f.logs.find(m=>m.date===s);o&&o.status==="completed"&&e++}),Math.round(e/p.value.length*100)}),g=et(()=>{let s=0;return p.value.forEach(e=>s+=e.progress_count),s}),Y=et(()=>{if(p.value.length===0)return 0;let s=0;return p.value.forEach(e=>s+=e.progress_percent),Math.round(s/p.value.length)}),N=s=>{const e=S.monthQuery?A(S.monthQuery):A(),f=s==="next"?e.add(1,"month"):e.subtract(1,"month");ut.get(route("habits.index"),{month:f.format("YYYY-MM")},{preserveState:!1,preserveScroll:!0})},L=(s,e)=>{const f=s.logs.find(o=>o.date===e);return f?f.status:"empty"},I=async(s,e,f=null)=>{if(A(e).isAfter(A(),"day"))return;const o=p.value.findIndex(C=>C.id===s);if(o===-1)return;const m=p.value[o],a=m.logs.findIndex(C=>C.date===e),w=a!==-1?m.logs[a].status:"empty";let k="completed";f?k=w===f?"uncheck":f:w==="completed"||w==="skipped"?k="uncheck":k="completed",a!==-1?k==="uncheck"?m.logs.splice(a,1):m.logs[a].status=k:k!=="uncheck"&&m.logs.push({date:e,status:k});const J=m.logs.filter(C=>C.status==="completed").length;m.progress_count=J,m.progress_percent=m.monthly_target>0?Math.min(100,Math.round(J/m.monthly_target*100)):0;try{await Mt.post(route("habits.log",s),{date:e,status:k})}catch(C){console.error("Gagal save:",C)}},ot=()=>{h.transform(s=>({...s,period:S.monthQuery})),D.value?h.patch(route("habits.update",h.id),{onSuccess:()=>{b.value=!1,h.reset()}}):h.post(route("habits.store"),{onSuccess:()=>{b.value=!1,h.reset()}})},W=G(!1),B=()=>{W.value=!0},nt=()=>{ut.post(route("habits.copy"),{current_period:S.monthQuery,prev_period:S.prevMonthQuery},{preserveScroll:!0,onSuccess:()=>{W.value=!1}})},Q=()=>{b.value=!1;const s=p.value.find(e=>e.id===h.id);P(s)},D=G(!1),rt=s=>{D.value=!0,b.value=!0,h.id=s.id,h.name=s.name,h.icon=s.icon,h.color=s.color,h.monthly_target=s.monthly_target},X=()=>{D.value=!1,h.reset(),h.id=null,b.value=!0},tt=()=>{b.value=!1,setTimeout(()=>{D.value=!1,h.reset(),h.id=null},200)},v=G(!1),x=G(null),P=s=>{x.value=s,v.value=!0},it=()=>{x.value&&ut.delete(route("habits.destroy",x.value.id),{preserveScroll:!0,onSuccess:()=>{v.value=!1,x.value=null}})},u=(s,e,f,o,m)=>{const a=s.key;if(a===" "){s.preventDefault(),I(o,m);return}if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(a))return;s.preventDefault();let w=e,k=f;a==="ArrowUp"&&w--,a==="ArrowDown"&&w++,a==="ArrowLeft"&&k--,a==="ArrowRight"&&k++;const J=`cell-${w}-${k}`,C=document.getElementById(J);C&&(C.focus(),C.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}))},r=[{code:"fire",icon:"ðŸ”¥",label_key:"mood_fire",color:"bg-amber-100 text-amber-600"},{code:"happy",icon:"ðŸ˜„",label_key:"mood_happy",color:"bg-emerald-100 text-emerald-600"},{code:"neutral",icon:"ðŸ˜",label_key:"mood_neutral",color:"bg-slate-100 text-slate-600"},{code:"sad",icon:"ðŸ˜¢",label_key:"mood_sad",color:"bg-blue-100 text-blue-600"},{code:"stress",icon:"ðŸ¤¯",label_key:"mood_stress",color:"bg-rose-100 text-rose-600"},{code:"sick",icon:"ðŸ¤’",label_key:"mood_sick",color:"bg-purple-100 text-purple-600"}],n=G(!1),i=et(()=>S.savedMood&&r.find(s=>s.code===S.savedMood)||r[0]),l=s=>{n.value=!1,ut.post(route("habits.mood"),{mood_code:s,period:S.monthQuery},{preserveScroll:!0})};return(s,e)=>(y(),_(R,null,[mt(z(kt),{title:"Habit Tracker"}),mt(St,null,{default:$t(()=>{var f;return[v.value?(y(),_("div",Ht,[t("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:e[0]||(e[0]=o=>v.value=!1)}),t("div",Ot,[e[13]||(e[13]=t("div",{class:"w-16 h-16 bg-rose-50 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl shadow-sm"}," ðŸ—‘ï¸ ",-1)),t("h3",Lt,d(s.$t("habit_delete_title")),1),t("p",zt,[dt(d(s.$t("habit_delete_desc"))+" ",1),e[11]||(e[11]=t("br",null,null,-1)),t("span",At,d((f=x.value)==null?void 0:f.name),1),e[12]||(e[12]=dt("? ",-1))]),t("div",Tt,[t("button",{onClick:e[1]||(e[1]=o=>v.value=!1),class:"flex-1 py-3 rounded-xl font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 transition"},d(s.$t("habit_btn_cancel")),1),t("button",{onClick:it,class:"flex-1 py-3 rounded-xl font-bold text-white bg-rose-500 hover:bg-rose-600 shadow-lg shadow-rose-200 transition transform hover:-translate-y-0.5"},d(s.$t("habit_btn_delete_confirm")),1)])])])):F("",!0),W.value?(y(),_("div",Nt,[t("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:e[2]||(e[2]=o=>W.value=!1)}),t("div",Jt,[e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl shadow-sm"}," ðŸ“‚ ",-1)),t("h3",Ft,d(s.$t("habit_copy_title")),1),t("p",It,d(s.$t("habit_copy_desc")),1),t("div",Et,[t("button",{onClick:e[3]||(e[3]=o=>W.value=!1),class:"flex-1 py-3.5 rounded-xl font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 transition"},d(s.$t("habit_btn_cancel")),1),t("button",{onClick:nt,class:"flex-1 py-3.5 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition transform hover:-translate-y-0.5"},d(s.$t("habit_btn_copy_confirm")),1)])])])):F("",!0),b.value?(y(),_("div",Qt,[t("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:e[4]||(e[4]=o=>b.value=!1)}),t("div",Ut,[t("div",Wt,[t("h3",Bt,d(D.value?"Edit Habit":s.$t("habit_modal_title")),1),t("button",{onClick:tt,class:"bg-slate-100 w-8 h-8 rounded-full text-slate-500 hover:bg-slate-200 flex items-center justify-center transition"}," âœ• ")]),t("form",{onSubmit:ht(ot,["prevent"]),class:"space-y-5"},[t("div",null,[t("label",Vt,d(s.$t("habit_modal_question")),1),pt(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>z(h).name=o),class:"w-full text-base md:text-lg font-bold py-3 px-4 rounded-xl border-2 border-slate-100 focus:border-indigo-500 transition",placeholder:"Contoh: Lari Pagi",required:""},null,512),[[xt,z(h).name]])]),t("div",null,[t("label",Pt,d(s.$t("habit_modal_icon")),1),t("div",Kt,[(y(),_(R,null,st(M,o=>t("button",{type:"button",key:o,onClick:m=>z(h).icon=o,class:Z(["w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center text-lg md:text-xl hover:bg-white hover:shadow-sm transition",z(h).icon===o?"bg-white shadow-md ring-2 ring-indigo-500 scale-110":"opacity-60 grayscale hover:grayscale-0 hover:opacity-100"])},d(o),11,Gt)),64))])]),t("div",Rt,[t("div",Zt,[t("label",qt,d(s.$t("habit_modal_color")),1),t("div",Xt,[(y(),_(R,null,st(j,o=>t("button",{type:"button",key:o,onClick:m=>z(h).color=o,class:"w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center transition hover:scale-110",style:q({backgroundColor:o})},[z(h).color===o?(y(),_("span",ee,"âœ“")):F("",!0)],12,te)),64))])]),t("div",se,[t("label",oe,d(s.$t("habit_modal_target"))+": "+d(z(h).monthly_target),1),pt(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>z(h).monthly_target=o),type:"range",min:"1",max:"31",class:"w-full accent-indigo-600 h-2 bg-slate-200 rounded-lg cursor-pointer"},null,512),[[xt,z(h).monthly_target]])])]),t("div",ne,[D.value?(y(),_("button",{key:0,type:"button",onClick:Q,class:"px-4 py-3 rounded-xl font-bold text-rose-500 bg-rose-50 hover:bg-rose-100 transition flex items-center justify-center border border-rose-100",title:"Hapus Habit"}," ðŸ—‘ï¸ ")):F("",!0),t("button",{type:"submit",class:"flex-1 py-3 md:py-4 rounded-xl font-bold text-white bg-indigo-950 hover:bg-indigo-900 shadow-xl transition transform hover:-translate-y-1",disabled:z(h).processing},d(D.value?"Update Habit":s.$t("habit_modal_btn_save")),9,re)])],32)])])):F("",!0),t("div",le,[t("div",ie,[t("div",ae,[t("div",de,[t("div",ue,[e[15]||(e[15]=t("span",null,"ðŸ“…",-1)),t("span",null,d(z(E)),1)]),t("h1",ce,[dt(d(s.$t($.value))+", ",1),t("span",fe,d(z(H).name.split(" ")[0]),1),e[16]||(e[16]=dt("! ",-1))]),t("p",me,d(s.$t("greet_subtitle")),1)]),t("div",he,[t("div",pe,[t("button",{onClick:e[7]||(e[7]=o=>N("prev")),class:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-white hover:shadow-sm transition"}," â€¹ "),t("span",xe,d(S.currentMonth),1),t("button",{onClick:e[8]||(e[8]=o=>N("next")),class:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-white hover:shadow-sm transition"}," â€º ")]),t("div",be,[t("span",ge,d(s.$t("today_is")),1),t("div",ve,[t("div",_e,[t("div",{class:"h-full bg-emerald-500 rounded-full transition-all duration-500",style:q({width:c.value+"%"})},null,4)]),t("span",ye,d(c.value)+"% ",1)])]),t("button",{onClick:X,class:"flex-shrink-0 flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 md:px-5 md:py-2.5 rounded-xl font-bold text-xs md:text-sm shadow-lg hover:bg-indigo-700 transition"},[e[17]||(e[17]=t("span",null,"+",-1)),t("span",we,d(s.$t("habit_btn_new")),1)])])]),t("div",ke,[t("span",$e,d(s.$t("legend_instruction")),1),t("div",Me,[e[18]||(e[18]=t("div",{class:"w-4 h-4 rounded bg-indigo-600 text-white flex items-center justify-center text-[9px] shadow-sm"}," âœ“ ",-1)),t("span",Se,d(s.$t("legend_left_click")),1)]),t("div",De,[e[19]||(e[19]=t("div",{class:"w-4 h-4 rounded bg-slate-100 text-slate-400 flex items-center justify-center text-[9px] border border-slate-200"}," - ",-1)),t("span",Ce,d(s.$t("legend_right_click")),1)]),t("div",je,[e[20]||(e[20]=t("div",{class:"w-4 h-4 rounded bg-white border border-slate-200 hover:border-indigo-300"},null,-1)),t("span",Ye,d(s.$t("legend_reset")),1)])])])]),t("div",He,[p.value.length>0?(y(),_("div",Oe,[t("div",Le,[t("div",ze,[t("div",Ae,[e[21]||(e[21]=t("div",{class:"sticky left-0 z-40 bg-white w-36 md:w-72 border-r border-slate-100 p-3 md:p-4 flex items-center font-bold text-slate-400 text-[10px] md:text-xs uppercase tracking-wider"},[t("span",{class:"truncate"},"Kebiasaan")],-1)),t("div",Te,[(y(!0),_(R,null,st(U.value,o=>(y(),_("div",{key:o.dateString,class:"w-8 flex flex-col items-center gap-1"},[t("span",Ne,d(o.dayName),1),t("span",{class:Z(["text-[10px] md:text-xs font-black text-slate-600",o.isToday?"text-indigo-600 bg-indigo-50 px-1.5 rounded":""])},d(o.dayNumber),3)]))),128))]),t("div",Je,d(s.$t("habit_table_total")),1)]),t("div",Fe,[(y(!0),_(R,null,st(p.value,(o,m)=>(y(),_("div",{key:o.id,class:"flex hover:bg-slate-50/50 transition-colors group"},[t("div",Ie,[t("div",{class:"w-8 h-8 md:w-10 md:h-10 rounded-lg md:rounded-xl flex items-center justify-center text-base md:text-xl bg-slate-50 border border-slate-100",style:q({color:o.color})},d(o.icon),5),t("div",Ee,[t("h4",Qe,d(o.name),1),t("div",Ue,[t("span",null,"ðŸŽ¯ Target: "+d(o.monthly_target),1)]),t("div",We,[t("div",Be,[t("div",{class:"h-full rounded-full transition-all duration-300",style:q({width:o.progress_percent+"%",backgroundColor:o.color})},null,4)]),t("button",{onClick:a=>rt(o),class:"md:hidden text-slate-400 hover:text-indigo-600 px-1 active:scale-95 transition"},[...e[22]||(e[22]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ve),t("div",Pe,[t("button",{onClick:a=>rt(o),class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition",title:"Edit"},[...e[23]||(e[23]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ke),t("button",{onClick:a=>P(o),class:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-md transition",title:"Hapus"},[...e[24]||(e[24]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ge)])])])]),t("div",Re,[(y(!0),_(R,null,st(U.value,(a,w)=>(y(),_("div",{key:a.dateString,class:"w-8 flex justify-center"},[t("button",{id:`cell-${m}-${w}`,onClick:k=>I(o.id,a.dateString),onContextmenu:ht(k=>I(o.id,a.dateString,"skipped"),["prevent"]),onKeydown:k=>u(k,m,w,o.id,a.dateString),disabled:a.isFuture,class:Z(["/* 1. Layout Dasar */ scroll-mt-24 md:scroll-mt-32 scroll-ml-36 md:scroll-ml-72 w-7 h-7 md:w-8 md:h-8 rounded-md md:rounded-lg flex items-center justify-center relative outline-none z-0 /* 2. ðŸ”¥ MAGIC ANIMASI 'JUICY' (Biar gak kaku) ðŸ”¥ */ transition-all duration-200 cubic-bezier(0.175, 0.885, 0.32, 1.275) hover:scale-110 hover:z-10 active:scale-75 focus:ring-4 focus:ring-indigo-100 focus:z-20",{"shadow-md text-white scale-100 border-transparent":L(o,a.dateString)==="completed","bg-slate-100 text-slate-400":L(o,a.dateString)==="skipped","bg-white border border-slate-200 hover:border-indigo-300":L(o,a.dateString)==="empty"&&!a.isFuture,"bg-slate-50 border border-slate-50 opacity-30 cursor-not-allowed":a.isFuture,"ring-2 ring-indigo-500 ring-offset-2 z-10":a.isToday}]),style:q(L(o,a.dateString)==="completed"?{backgroundColor:o.color}:{})},[L(o,a.dateString)==="completed"?(y(),_("span",qe," âœ“ ")):F("",!0),L(o,a.dateString)==="skipped"?(y(),_("span",Xe," - ")):F("",!0)],46,Ze)]))),128))]),t("div",ts,[t("div",es,[t("span",ss,d(o.progress_count),1),t("span",os,d(Math.round(o.progress_percent))+"%",1)]),t("div",ns,[t("div",{class:"h-full rounded-full transition-all duration-500",style:q({width:o.progress_percent+"%",backgroundColor:o.color})},null,4)])])]))),128))])])])])):(y(),_("div",rs,[e[25]||(e[25]=t("div",{class:"w-16 h-16 md:w-20 md:h-20 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center text-3xl md:text-4xl mx-auto mb-4"},"ðŸŒ±",-1)),t("h3",ls,d(s.$t("habit_empty_title")),1),t("p",is,d(s.$t("habit_empty_desc")),1),t("div",as,[t("button",{onClick:X,class:"px-6 py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg transition transform hover:-translate-y-1"}," + "+d(s.$t("habit_btn_new")),1),T.hasPrevHabits?(y(),_("button",{key:0,onClick:B,class:"px-6 py-3 rounded-xl font-bold text-indigo-600 bg-indigo-50 hover:bg-indigo-100 border border-indigo-200 transition"}," ðŸ“‚ "+d(s.$t("habit_salin_btn")),1)):F("",!0)])])),p.value.length>0?(y(),_("div",ds,[t("div",us,[t("div",cs,d(s.$t("stats_consistency")),1),t("div",fs,d(Y.value)+"%",1),t("div",ms,[t("div",{class:"bg-white h-2 rounded-full",style:q({width:Y.value+"%"})},null,4)])]),t("div",hs,[e[26]||(e[26]=t("div",{class:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-xl md:text-2xl"},"âœ…",-1)),t("div",null,[t("div",ps,d(s.$t("stats_total_check")),1),t("div",xs,d(g.value),1)])]),t("div",bs,[n.value?(y(),_("div",{key:0,onClick:e[9]||(e[9]=o=>n.value=!1),class:"fixed inset-0 z-10 cursor-default"})):F("",!0),t("button",{onClick:e[10]||(e[10]=o=>n.value=!n.value),class:Z(["bg-white rounded-2xl p-5 md:p-6 shadow-sm border border-slate-100 flex items-center gap-4 hover:shadow-md transition cursor-pointer text-left w-full h-full relative z-20",n.value?"ring-2 ring-indigo-500 border-transparent":""])},[t("div",{class:Z(["w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center text-xl md:text-2xl transition-colors shrink-0",i.value.color])},d(i.value.icon),3),t("div",gs,[t("div",vs,[t("span",null,d(s.$t("stats_mood")),1),e[27]||(e[27]=t("span",{class:"text-[10px] opacity-50"},"â–¼",-1))]),t("div",_s,d(s.$t(i.value.label_key)),1)])],2),n.value?(y(),_("div",ys,[(y(),_(R,null,st(r,o=>t("button",{key:o.code,onClick:m=>l(o.code),class:Z(["flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition w-full text-left",T.savedMood===o.code?"bg-indigo-50 border border-indigo-100":""])},[t("div",{class:Z(["w-8 h-8 rounded-full flex items-center justify-center text-lg shrink-0",o.color])},d(o.icon),3),t("span",ks,d(s.$t(o.label_key)),1),T.savedMood===o.code?(y(),_("span",$s,"âœ“")):F("",!0)],10,ws)),64))])):F("",!0)])])):F("",!0)])]}),_:1})],64))}};export{Ds as default};
