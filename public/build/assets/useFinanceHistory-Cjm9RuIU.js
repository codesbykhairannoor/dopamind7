import{y as o,x as v,z as r}from"./vendor-BNleA0cf.js";import{u as b}from"./useFinanceFormat-B8cI5cQH.js";function O(u){const{appLocale:d}=b(),c=o(!1),l=o(null),s=o(""),p=v(()=>{const t={},m=u.transactions||[];let n=d.value;const f=n.includes("-")?n.split("-")[0]:n;m.forEach(e=>{const a=r(e.date).format("YYYY-MM-DD");t[a]||(t[a]={date:a,dateObj:r(e.date).locale(f),transactions:[],total_income:0,total_expense:0}),t[a].transactions.push(e),e.type==="income"?t[a].total_income+=Number(e.amount):t[a].total_expense+=Number(e.amount)});const i=Object.values(t).sort((e,a)=>a.dateObj-e.dateObj);return s.value?i.filter(e=>e.date===s.value):i.slice(0,4)});return{filterDate:s,visibleStats:p,isArchiveOpen:c,selectedDayData:l,openDetail:t=>{l.value=t,c.value=!0}}}export{O as u};
