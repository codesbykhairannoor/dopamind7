import{c as i,b as t,a as x,t as l,u as o,g as m,n as g,r as _,f as w,F as k,p as y,o as r}from"./app-CgqYftQy.js";import{d as D}from"./dayjs.min-y3q9yEKc.js";import{u as $}from"./useFinanceHistory-BgEAdRue.js";import{u as M}from"./useFinanceFormat-B-nJYwsu.js";import C from"./ArchiveModal-BLN9_NdY.js";import F from"./FinanceDatePicker-BpbkVWNE.js";import"./en-ZIUHEWdf.js";import"./Modal-Bclj5PFu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./localeData-ClhG7Bok.js";const j={class:"space-y-4"},L={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},V={class:"flex items-center gap-2"},z={class:"text-lg font-bold text-slate-800"},B={key:0,class:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg"},E={key:1,class:"text-[10px] font-bold text-indigo-500 bg-indigo-50 px-2 py-1 rounded-lg"},A={class:"relative z-20"},O={class:"flex items-center"},Y={class:"absolute right-0 top-full mt-2"},N={key:0,class:"text-center py-12 bg-white rounded-3xl border border-dashed border-slate-200"},H={class:"text-slate-400 text-sm font-medium"},S={key:1,class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden divide-y divide-slate-50"},P=["onClick"],T={class:"flex items-center gap-4"},U={class:"w-12 h-12 rounded-xl bg-slate-50 border border-slate-100 flex flex-col items-center justify-center group-hover:bg-white transition-all shadow-sm"},q={class:"text-[10px] uppercase font-black text-slate-400 leading-none"},G={class:"text-xl font-black leading-none text-slate-700 mt-0.5"},I={class:"font-bold text-slate-700 text-sm capitalize"},J={class:"text-[11px] text-slate-400 font-bold bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100 mt-1 inline-block"},K={class:"flex items-center gap-6"},Q={class:"pl-4 border-l border-slate-100 text-right"},R={class:"block text-[9px] font-bold text-slate-400 uppercase tracking-wider"},W={key:0,class:"bg-slate-50/50 p-2.5 text-center border-t border-slate-100"},X={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},ct={__name:"TransactionList",props:{transactions:Array,categories:Array,onDelete:Function,onEdit:Function},setup(d){const f=d,{visibleStats:p,filterDate:n,isArchiveOpen:u,selectedDayData:b,openDetail:h}=$(f),{formatMoney:v}=M(),c=_(!1);return(a,s)=>(r(),i("div",j,[t("div",L,[t("div",V,[t("h3",z,l(a.$t("daily_history")),1),o(n)?(r(),i("span",E,l(a.$t("search_result")),1)):(r(),i("span",B,l(a.$t("last_5")),1))]),t("div",A,[t("div",O,[t("button",{onClick:s[0]||(s[0]=e=>c.value=!c.value),class:g(["pl-3 pr-8 py-2 text-xs font-bold bg-white border border-slate-200 rounded-xl shadow-sm hover:border-indigo-300 hover:ring-2 hover:ring-indigo-500/10 transition-all flex items-center gap-2 min-w-[150px]",o(n)?"text-indigo-600 border-indigo-200":"text-slate-500"])},[s[4]||(s[4]=t("span",{class:"text-base"},"ðŸ“…",-1)),t("span",null,l(o(n)?o(D)(o(n)).locale(a.$page.props.locale).format("DD MMM YYYY"):a.$t("date_filter")),1)],2),o(n)?(r(),i("button",{key:0,onClick:s[1]||(s[1]=w(e=>n.value="",["stop"])),class:"absolute right-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 p-1 rounded-full transition-all",title:"Hapus Filter"},[...s[5]||(s[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])):m("",!0)]),t("div",Y,[x(F,{show:c.value,modelValue:o(n),"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),onClose:s[3]||(s[3]=e=>c.value=!1)},null,8,["show","modelValue"])])])]),d.transactions.length===0?(r(),i("div",N,[s[6]||(s[6]=t("div",{class:"text-3xl mb-2"},"ðŸ“’",-1)),t("p",H,l(a.$t("no_transaction")),1)])):(r(),i("div",S,[(r(!0),i(k,null,y(o(p),e=>(r(),i("div",{key:e.date,onClick:Z=>o(h)(e),class:"group p-4 flex items-center justify-between hover:bg-indigo-50/50 transition-colors cursor-pointer"},[t("div",T,[t("div",U,[t("span",q,l(e.dateObj.format("MMM")),1),t("span",G,l(e.dateObj.format("DD")),1)]),t("div",null,[t("h4",I,l(e.dateObj.format("dddd")),1),t("span",J,l(a.$t("transaction_count",{count:e.transactions.length})),1)])]),t("div",K,[t("div",Q,[t("span",R,l(a.$t("daily_net")),1),t("span",{class:g(["text-sm font-black font-mono",e.total_income-e.total_expense>=0?"text-indigo-600":"text-orange-500"])},l(e.total_income-e.total_expense>=0?"+":"")+l(o(v)(e.total_income-e.total_expense)),3)]),s[7]||(s[7]=t("span",{class:"text-slate-300 group-hover:text-indigo-400 transition-colors"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1))])],8,P))),128)),!o(n)&&o(p).length===5?(r(),i("div",W,[t("p",X,l(a.$t("old_data_hint")),1)])):m("",!0)])),x(C,{show:o(u),dayData:o(b),categories:d.categories,close:()=>u.value=!1,onDelete:d.onDelete,onEdit:d.onEdit},null,8,["show","dayData","categories","close","onDelete","onEdit"])]))}};export{ct as default};
