import{B as y,r as w,k,a as d,m as c,d as o,e as a,l as $,n as B,F as C,x as D,A as I,p as f,z,o as r}from"./vendor-vue-DauRGcU0.js";import{u as S}from"./useFinanceFormat-EQ3fHtmQ.js";import"./vendor-inertia-DdYq9B8h.js";import"./vendor-utils-DJxZWvYm.js";import"./vendor-core-CR-nZrr5.js";const F={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},N={class:"bg-white w-full max-w-sm rounded-[2rem] shadow-2xl z-10 p-6 animate-in zoom-in-95 duration-200"},R={class:"text-xl font-black text-slate-800 mb-6"},_={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},j={class:"flex gap-2"},E={class:"relative"},U={key:0,class:"absolute top-14 left-0 w-64 p-3 bg-white rounded-2xl shadow-xl border border-slate-100 z-50 grid grid-cols-6 gap-2 animate-in fade-in zoom-in-95 duration-100"},A=["onClick"],M=["placeholder"],P={key:0,class:"text-[10px] text-slate-400 mt-1 italic"},V={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},G={class:"relative"},L={class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold"},T=["value"],J={class:"flex gap-3 pt-2"},O={type:"submit",class:"flex-[2] py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 active:scale-95 transition-all"},X={__name:"BudgetModal",props:{show:Boolean,form:Object,categories:Array,close:Function,submit:Function},setup(l){const s=l,{activeCurrency:u}=S(),i=w(!1),b=["ðŸ”","ðŸ›µ","âš¡","ðŸ›ï¸","ðŸ ","ðŸ’Š","ðŸ“š","ðŸŽ®","ðŸ¿","âœˆï¸","ðŸ¶","ðŸ”§","ðŸ’„","âš½","ðŸ’»","ðŸŽ","ðŸ’¸","â›½","ðŸ‘—"],m=f(()=>["IDR","EUR","de-DE"].includes(u.value)),g=f(()=>({IDR:"Rp",USD:"$",GBP:"Â£",EUR:"â‚¬",JPY:"Â¥"})[u.value]||u.value),p=t=>{if(!t)return"";const e=t.toString();return m.value?e.replace(/\B(?=(\d{3})+(?!\d))/g,"."):e.replace(/\B(?=(\d{3})+(?!\d))/g,",")},v=t=>{let e=m.value?t.target.value.replace(/\./g,""):t.target.value.replace(/,/g,"");isNaN(e)||(s.form.limit_amount=e)};y(()=>s.show,t=>{if(t)if(i.value=!1,s.form.id&&s.form.category){const e=s.categories.find(n=>n.slug===s.form.category);e&&(s.form.name=e.name,s.form.icon=e.icon)}else s.form.id||(s.form.reset(),s.form.icon="ðŸ’¸")});const x=t=>{s.form.id||(s.form.category=t.target.value.toLowerCase().trim().replace(/\s+/g,"_"))},h=()=>{s.submit(),s.close()};return(t,e)=>(r(),k(z,{to:"body"},[l.show?(r(),d("div",F,[o("div",{onClick:e[0]||(e[0]=(...n)=>l.close&&l.close(...n)),class:"absolute inset-0 bg-slate-900/30 backdrop-blur-md transition-opacity"}),o("div",N,[o("h3",R,a(l.form.id?"âœï¸ "+t.$t("edit_budget"):"ðŸŽ¯ "+t.$t("new_budget")),1),o("form",{onSubmit:$(h,["prevent"]),class:"space-y-5"},[o("div",null,[o("label",_,a(t.$t("category_name")),1),o("div",j,[o("div",E,[o("button",{type:"button",onClick:e[1]||(e[1]=n=>i.value=!i.value),class:"w-12 h-12 flex items-center justify-center bg-slate-50 rounded-xl text-2xl border border-slate-100 hover:bg-slate-100 transition"},a(l.form.icon),1),i.value?(r(),d("div",U,[(r(),d(C,null,D(b,n=>o("button",{key:n,type:"button",onClick:Y=>{l.form.icon=n,i.value=!1},class:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-indigo-50 text-lg transition"},a(n),9,A)),64))])):c("",!0),i.value?(r(),d("div",{key:1,onClick:e[2]||(e[2]=n=>i.value=!1),class:"fixed inset-0 z-40"})):c("",!0)]),B(o("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>l.form.name=n),onInput:x,type:"text",placeholder:t.$t("placeholder_name"),class:"flex-1 px-4 py-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-bold text-slate-700"},null,40,M),[[I,l.form.name]])]),l.form.id?(r(),d("p",P,"*"+a(t.$t("budget_warning")),1)):c("",!0)]),o("div",null,[o("label",V,a(t.$t("budget_limit")),1),o("div",G,[o("span",L,a(g.value),1),o("input",{type:"text",value:p(l.form.limit_amount),onInput:v,placeholder:"0",class:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-black text-lg text-slate-700"},null,40,T)])]),o("div",J,[o("button",{type:"button",onClick:e[4]||(e[4]=(...n)=>l.close&&l.close(...n)),class:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl transition"},a(t.$t("cancel")),1),o("button",O,a(t.$t("save")),1)])],32)])])):c("",!0)]))}};export{X as default};
