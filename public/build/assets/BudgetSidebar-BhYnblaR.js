import{u as k}from"./useFinanceFormat-CB7TYyOT.js";import{r as $,h as w,c as a,b as t,g as h,n as g,t as o,F as v,p as f,o as l,u as x,x as C}from"./app-DBmEpP_-.js";const S={class:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm h-fit flex flex-col gap-6"},j={class:"flex p-1 bg-slate-50 rounded-xl border border-slate-100"},B={key:0,class:"space-y-6"},z={class:"flex justify-between items-center"},F={class:"font-bold text-slate-800 text-sm"},A={key:0,class:"text-center py-8 text-xs text-slate-400 border border-dashed border-slate-200 rounded-xl"},D={key:1,class:"space-y-5"},E={class:"flex justify-between text-sm mb-1"},L={class:"flex items-center gap-2"},M={class:"font-bold text-slate-700 capitalize text-xs"},N={class:"text-[10px] text-slate-400"},O={class:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden"},V={class:"flex gap-2 mt-1 opacity-0 group-hover:opacity-100 transition-all"},H=["onClick"],P=["onClick"],T={key:1,class:"space-y-4"},q={class:"flex justify-between items-center"},G={class:"font-bold text-slate-800 text-sm"},I={key:0,class:"text-center py-8 text-xs text-slate-400 border border-dashed rounded-xl"},J={key:1,class:"space-y-3"},K={class:"flex items-center gap-3"},Q={class:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center text-xl shadow-inner"},R={class:"flex flex-col"},U={class:"font-bold text-slate-700 capitalize text-xs"},W={class:"text-[10px] text-slate-400"},X={class:"flex items-center gap-2"},Y={class:"font-black text-emerald-600 text-sm"},Z={class:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all"},ee=["onClick"],te=["onClick"],ae={__name:"BudgetSidebar",props:{budgets:Array,categories:Array,expenseStats:Object,incomeStats:Object},emits:["add","delete-budget","edit-budget","add-category","edit-category","delete-category"],setup(r,{emit:se}){const i=r,{formatMoney:c,getCategoryDetails:y}=k(),p=e=>y(e,i.categories),d=$("expense"),m=w(()=>i.categories.filter(e=>e.type==="income").map(e=>({...e,amount:i.incomeStats[e.slug]||0})).sort((e,n)=>n.amount-e.amount)),b=(e,n)=>n>0?Math.min((i.expenseStats[e]||0)/n*100,100):0,_=e=>e>90?"bg-rose-500":e>75?"bg-orange-500":"bg-indigo-500";return(e,n)=>(l(),a("div",S,[t("div",j,[t("button",{onClick:n[0]||(n[0]=s=>d.value="expense"),class:g(["flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all",d.value==="expense"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"])},o(e.$t("expense")),3),t("button",{onClick:n[1]||(n[1]=s=>d.value="income"),class:g(["flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all",d.value==="income"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600"])},o(e.$t("income")),3)]),d.value==="expense"?(l(),a("div",B,[t("div",z,[t("h3",F,o(e.$t("budget_target")),1),t("button",{onClick:n[2]||(n[2]=s=>e.$emit("add")),class:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2.5 py-1.5 rounded-lg border border-indigo-100"},"+ "+o(e.$t("set_budget")),1)]),r.budgets.length===0?(l(),a("div",A,o(e.$t("no_budget")),1)):(l(),a("div",D,[(l(!0),a(v,null,f(r.budgets,s=>(l(),a("div",{key:s.id,class:"group"},[t("div",E,[t("div",L,[t("span",null,o(p(s.category).icon),1),t("span",M,o(p(s.category).name),1)]),t("span",N,o(x(c)(i.expenseStats[s.category]||0))+" / "+o(x(c)(s.limit_amount)),1)]),t("div",O,[t("div",{class:g(["h-full transition-all duration-1000 rounded-full",_(b(s.category,s.limit_amount))]),style:C({width:`${b(s.category,s.limit_amount)}%`})},null,6)]),t("div",V,[t("button",{onClick:u=>e.$emit("edit-budget",s),class:"text-[10px] text-indigo-500 font-bold hover:underline"},o(e.$t("edit")),9,H),t("button",{onClick:u=>e.$emit("delete-budget",s.id),class:"text-[10px] text-rose-500 font-bold hover:underline"},o(e.$t("delete")),9,P)])]))),128))]))])):h("",!0),d.value==="income"?(l(),a("div",T,[t("div",q,[t("h3",G,o(e.$t("fund_source")),1),t("button",{onClick:n[3]||(n[3]=s=>e.$emit("add-category")),class:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1.5 rounded-lg border border-emerald-100"},"+ "+o(e.$t("add_category")),1)]),m.value.length===0?(l(),a("div",I,o(e.$t("no_fund_source")),1)):(l(),a("div",J,[(l(!0),a(v,null,f(m.value,s=>(l(),a("div",{key:s.id,class:"flex justify-between items-center p-3 bg-white rounded-xl border border-slate-100 hover:border-emerald-200 hover:shadow-sm transition-all group"},[t("div",K,[t("div",Q,o(s.icon),1),t("div",R,[t("span",U,o(s.name),1),t("span",W,o(s.amount>0?e.$t("active"):e.$t("empty")),1)])]),t("div",X,[t("span",Y,"+"+o(x(c)(s.amount)),1),t("div",Z,[t("button",{onClick:u=>e.$emit("edit-category",s),class:"p-1 text-indigo-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"Edit"},"✎",8,ee),t("button",{onClick:u=>e.$emit("delete-category",s),class:"p-1 text-rose-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"Hapus"},"✕",8,te)])])]))),128))]))])):h("",!0)]))}};export{ae as default};
