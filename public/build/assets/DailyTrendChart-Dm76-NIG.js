import{C as b,a as h,L as g,P as _,b as y,p as x,c as w,d as D,i as C,e as k}from"./index-U2CTBjvW.js";import{d as f}from"./dayjs.min-y3q9yEKc.js";import{u as v}from"./useFinanceFormat-B-nJYwsu.js";import{j as A,c as E,b as i,t as m,a as R,u as d,o as S}from"./app-CgqYftQy.js";function I(e){const{formatMoney:l}=v(),n=(t,o)=>{if(typeof window.trans=="function"){const a=window.trans(t);return a!==t?a:o}return o};return{chartData:A(()=>{if(!e.currentDate)return{labels:[],datasets:[]};const t=f(e.currentDate).daysInMonth(),o=Array.from({length:t},(s,r)=>r+1),a=new Array(t).fill(0),p=new Array(t).fill(0);return e.transactions.forEach(s=>{const r=f(s.date).date()-1;s.type==="income"?a[r]+=Number(s.amount):p[r]+=Number(s.amount)}),{labels:o,datasets:[{label:n("income","Income"),backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"#10b981",data:a,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6},{label:n("expense","Expense"),backgroundColor:"rgba(244, 63, 94, 0.1)",borderColor:"#f43f5e",data:p,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6}]}}),chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:8}},tooltip:{mode:"index",intersect:!1,callbacks:{label:t=>` ${t.dataset.label}: ${l(t.raw)}`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9",borderDash:[5,5]},ticks:{callback:t=>t/1e3+"k"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}}const L={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 w-full mt-8"},N={class:"flex justify-between items-center mb-6"},$={class:"font-bold text-slate-700 text-sm uppercase tracking-wider"},j={class:"text-xs text-slate-400"},B={class:"h-[300px] w-full"},H={__name:"DailyTrendChart",props:{transactions:Array,currentDate:String},setup(e){b.register(h,g,_,y,x,w,D,C);const l=e,{chartData:n,chartOptions:u}=I(l);return(c,t)=>(S(),E("div",L,[i("div",N,[i("h3",$,m(c.$t("finance_trend")),1),i("span",j,m(c.$t("daily_chart")),1)]),i("div",B,[R(d(k),{data:d(n),options:d(u)},null,8,["data","options"])])]))}};export{H as default};
