import{u as j}from"./useFinanceFormat-BzdLqOPi.js";import{a,d as e,m as _,x as c,r as S,e as n,f as y,u as x,p as m,F as k,z as $,o as l,C as B}from"./vendor-vue-BnW7Nrl4.js";import"./vendor-inertia-DLGDmWoM.js";import"./vendor-utils-vWQA-h1x.js";import"./vendor-core-CzOEOszY.js";const z={class:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm h-fit flex flex-col gap-6"},N={class:"flex p-1 bg-slate-50 rounded-xl border border-slate-100"},F={key:0,class:"space-y-6"},T={class:"flex justify-between items-center"},M={class:"font-bold text-slate-800 text-sm"},V={key:0,class:"text-center py-8 text-xs text-slate-400 border border-dashed border-slate-200 rounded-xl bg-slate-50/50"},A={key:1,class:"space-y-4"},D={class:"p-4 rounded-xl border border-indigo-100 bg-indigo-50/30 flex justify-between items-center shadow-inner"},E={class:"flex flex-col"},L={class:"text-sm font-black text-slate-700 mt-0.5"},O={class:"text-right flex flex-col"},P={class:"space-y-3"},q={class:"flex justify-between items-end text-sm mb-2"},G={class:"flex items-center gap-3"},H={class:"w-8 h-8 rounded-lg bg-white border border-slate-100 shadow-sm flex items-center justify-center text-sm"},I={class:"flex flex-col"},J={class:"font-bold text-slate-700 capitalize text-sm leading-tight"},K={class:"text-[10px] font-bold text-slate-400 mt-0.5"},Q={class:"flex flex-col items-end gap-1"},R={class:"flex gap-1"},U=["onClick"],W=["onClick"],X={class:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden shadow-inner relative"},Y={key:1,class:"space-y-4"},Z={class:"flex justify-between items-center"},ee={class:"font-bold text-slate-800 text-sm"},te={key:0,class:"text-center py-8 text-xs text-slate-400 border border-dashed border-slate-200 bg-slate-50/50 rounded-xl"},se={key:1,class:"space-y-3"},oe={class:"flex items-center gap-3"},ne={class:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center text-xl shadow-inner border border-emerald-100"},ae={class:"flex flex-col"},le={class:"font-bold text-slate-700 capitalize text-sm"},de={class:"text-[10px] text-slate-400 font-medium"},ie={class:"flex flex-col items-end gap-1"},re={class:"font-black text-emerald-600 text-sm tracking-wide"},ce={class:"flex gap-1"},xe=["onClick"],ue=["onClick"],he={__name:"BudgetSidebar",props:{budgets:Array,categories:Array,expenseStats:Object,incomeStats:Object},emits:["add","delete-budget","edit-budget","add-category","edit-category","delete-category"],setup(g,{emit:ge}){const d=g,{formatMoney:r,getCategoryDetails:w}=j(),p=t=>w(t,d.categories),i=S("expense"),f=m(()=>d.categories.filter(t=>t.type==="income").map(t=>({...t,amount:d.incomeStats[t.slug]||0})).sort((t,o)=>o.amount-t.amount)),v=m(()=>d.budgets.reduce((t,o)=>t+Number(o.limit_amount),0)),h=m(()=>d.budgets.reduce((t,o)=>t+Number(d.expenseStats[o.category]||0),0)),u=(t,o)=>o>0?Math.min((d.expenseStats[t]||0)/o*100,100):0,C=t=>t>90?"bg-rose-500":t>75?"bg-orange-500":"bg-indigo-500";return(t,o)=>(l(),a("div",z,[e("div",N,[e("button",{onClick:o[0]||(o[0]=s=>i.value="expense"),class:c(["flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all",i.value==="expense"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"])},n(t.$t("expense")),3),e("button",{onClick:o[1]||(o[1]=s=>i.value="income"),class:c(["flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-lg transition-all",i.value==="income"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600"])},n(t.$t("income")),3)]),i.value==="expense"?(l(),a("div",F,[e("div",T,[e("h3",M,n(t.$t("budget_target")),1),e("button",{onClick:o[2]||(o[2]=s=>t.$emit("add")),class:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2.5 py-1.5 rounded-lg border border-indigo-100 hover:bg-indigo-100 transition"},"+ "+n(t.$t("set_budget")),1)]),g.budgets.length===0?(l(),a("div",V,[o[4]||(o[4]=e("span",{class:"text-2xl block mb-2"},"ğŸ¯",-1)),y(" "+n(t.$t("no_budget")),1)])):(l(),a("div",A,[e("div",D,[e("div",E,[o[5]||(o[5]=e("span",{class:"text-[10px] uppercase font-bold text-indigo-400 tracking-wider"},"Total Budget",-1)),e("span",L,n(x(r)(v.value)),1)]),e("div",O,[o[6]||(o[6]=e("span",{class:"text-[10px] uppercase font-bold text-slate-400 tracking-wider"},"Terpakai",-1)),e("span",{class:c(["text-sm font-black mt-0.5",h.value>v.value?"text-rose-500":"text-indigo-600"])},n(x(r)(h.value)),3)])]),e("div",P,[(l(!0),a(k,null,$(g.budgets,s=>(l(),a("div",{key:s.id,class:"relative pb-3 border-b border-slate-100 last:border-0 last:pb-0"},[e("div",q,[e("div",G,[e("div",H,n(p(s.category).icon),1),e("div",I,[e("span",J,n(p(s.category).name),1),e("span",K,n(x(r)(d.expenseStats[s.category]||0))+" / "+n(x(r)(s.limit_amount)),1)])]),e("div",Q,[e("div",R,[e("button",{onClick:b=>t.$emit("edit-budget",s),class:"text-[10px] font-bold text-indigo-400 hover:text-indigo-600 bg-slate-50 hover:bg-indigo-50 px-1.5 py-0.5 rounded transition"},"âœï¸"+n(t.$t("edit")),9,U),e("button",{onClick:b=>t.$emit("delete-budget",s.id),class:"text-[10px] font-bold text-rose-400 hover:text-rose-600 bg-slate-50 hover:bg-rose-50 px-1.5 py-0.5 rounded transition"},"ğŸ—‘ï¸"+n(t.$t("delete")),9,W)]),e("span",{class:c(["text-[10px] font-black font-mono",u(s.category,s.limit_amount)>90?"text-rose-500":"text-slate-400"])},n(Math.round(u(s.category,s.limit_amount)))+"% ",3)])]),e("div",X,[e("div",{class:c(["absolute top-0 left-0 h-full transition-all duration-1000 rounded-full",C(u(s.category,s.limit_amount))]),style:B({width:`${u(s.category,s.limit_amount)}%`})},null,6)])]))),128))])]))])):_("",!0),i.value==="income"?(l(),a("div",Y,[e("div",Z,[e("h3",ee,n(t.$t("fund_source")),1),e("button",{onClick:o[3]||(o[3]=s=>t.$emit("add-category")),class:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1.5 rounded-lg border border-emerald-100 hover:bg-emerald-100 transition"},"+ "+n(t.$t("add_category")),1)]),f.value.length===0?(l(),a("div",te,[o[7]||(o[7]=e("span",{class:"text-2xl block mb-2"},"ğŸ’¸",-1)),y(" "+n(t.$t("no_fund_source")),1)])):(l(),a("div",se,[(l(!0),a(k,null,$(f.value,s=>(l(),a("div",{key:s.id,class:"flex justify-between items-center pb-3 border-b border-slate-100 last:border-0 last:pb-0 relative"},[e("div",oe,[e("div",ne,n(s.icon),1),e("div",ae,[e("span",le,n(s.name),1),e("span",de,n(s.amount>0?t.$t("active"):t.$t("empty")),1)])]),e("div",ie,[e("span",re,"+"+n(x(r)(s.amount)),1),e("div",ce,[e("button",{onClick:b=>t.$emit("edit-category",s),class:"text-[10px] font-bold text-indigo-400 hover:text-indigo-600 bg-slate-50 hover:bg-indigo-50 px-1.5 py-0.5 rounded transition"},"âœï¸"+n(t.$t("edit")),9,xe),e("button",{onClick:b=>t.$emit("delete-category",s),class:"text-[10px] font-bold text-rose-400 hover:text-rose-600 bg-slate-50 hover:bg-rose-50 px-1.5 py-0.5 rounded transition"},"ğŸ—‘ï¸"+n(t.$t("delete")),9,ue)])])]))),128))]))])):_("",!0)]))}};export{he as default};
