import{e as g,w as b,b as e,c as m,g as h,o as r,t as s,n as a,d,F as x,p as w,a as u,h as p,q as f,D as v}from"./app-Cbyo9c8T.js";import{_ as k}from"./Modal-bMxXFSMV.js";import{_ as y}from"./TextInput-Dkx_31KM.js";import{P as _}from"./PrimaryButton-DANEo3DE.js";import{_ as $}from"./SecondaryButton-0h8oPUUJ.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"bg-white rounded-[2.5rem] flex flex-col max-h-[90vh] relative overflow-hidden transition-all duration-300 border border-slate-100 shadow-2xl"},B={key:0,class:"absolute top-0 left-0 right-0 bg-rose-500 text-white text-[10px] font-black px-6 py-3.5 text-center animate-in slide-in-from-top-full z-50 shadow-lg flex items-center justify-center gap-2 uppercase tracking-[0.1em]"},j={class:"flex items-center gap-4"},M={class:"text-xl font-black text-slate-800 tracking-tight leading-none mb-1"},U={class:"text-[10px] text-slate-400 font-bold uppercase tracking-widest"},E={class:"flex items-center gap-3"},F={class:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50/30 p-4 md:p-8"},S={class:"hidden md:grid grid-cols-12 gap-4 mb-4 px-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]"},R={class:"col-span-5 ml-1"},T={class:"col-span-2 text-center"},z={class:"col-span-2 text-center"},L={class:"col-span-2 text-center"},N={class:"space-y-4 md:space-y-3 mt-2"},P={class:"grid grid-cols-12 gap-3 md:gap-4 items-center"},D={class:"col-span-12 md:col-span-5"},q={class:"md:hidden text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1 block"},A={class:"col-span-6 md:col-span-2"},H={class:"md:hidden text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1 block"},I=["onUpdate:modelValue"],O={class:"col-span-6 md:col-span-2"},W={class:"md:hidden text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1 block"},G=["onUpdate:modelValue"],J={class:"col-span-10 md:col-span-2"},K={class:"md:hidden text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1 block"},Q={class:"relative"},X=["onUpdate:modelValue"],Y={value:1},Z={value:2},ee={value:3},te={class:"col-span-2 md:col-span-1 flex justify-center items-end md:items-center"},oe=["onClick","disabled"],se={class:"px-8 py-6 bg-white border-t border-slate-50 flex flex-col sm:flex-row justify-between items-center gap-4 shrink-0"},le={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"},ne={class:"text-indigo-600 text-sm font-black"},ie={class:"flex gap-3 w-full sm:w-auto"},ae={key:0},re={key:1},de={__name:"PlannerBatchModal",props:{show:Boolean,form:Object,conflictError:String,close:Function,submit:Function,addRow:Function,removeRow:Function,switchToSingle:Function},setup(t){return(l,o)=>(r(),g(k,{show:t.show,onClose:t.close,maxWidth:"2xl"},{default:b(()=>[e("div",V,[t.conflictError?(r(),m("div",B,[o[3]||(o[3]=e("svg",{class:"w-4 h-4 shrink-0 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[e("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",null,s(t.conflictError),1)])):h("",!0),e("div",{class:a(["px-8 py-6 border-b border-slate-50 flex justify-between items-center bg-white shrink-0 z-20",{"mt-12":t.conflictError}])},[e("div",j,[o[4]||(o[4]=e("div",{class:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-xl text-white shadow-lg shadow-indigo-100"}," ✨ ",-1)),e("div",null,[e("h2",M,s(l.$t("batch_mode_title")),1),e("p",U,s(l.$t("modal_new_simple_title")),1)])]),e("div",E,[e("button",{onClick:o[0]||(o[0]=(...n)=>t.switchToSingle&&t.switchToSingle(...n)),type:"button",class:"hidden sm:flex text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-xl border-2 border-slate-50 text-slate-400 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 transition-all active:scale-95 items-center gap-2"},[o[5]||(o[5]=e("span",null,"↩️",-1)),d(" "+s(l.$t("btn_single_mode")),1)]),e("button",{onClick:o[1]||(o[1]=(...n)=>t.close&&t.close(...n)),class:"w-10 h-10 rounded-xl bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-500 transition-all active:scale-90 flex items-center justify-center font-bold"}," ✕ ")])],2),e("div",F,[e("div",S,[e("div",R,[d(s(l.$t("col_activity"))+" ",1),o[6]||(o[6]=e("span",{class:"text-rose-500"},"*",-1))]),e("div",T,s(l.$t("col_start")),1),e("div",z,s(l.$t("col_end")),1),e("div",L,s(l.$t("col_priority")),1),o[7]||(o[7]=e("div",{class:"col-span-1"},null,-1))]),e("div",N,[(r(!0),m(x,null,w(t.form.tasks,(n,c)=>(r(),m("div",{key:c,class:"bg-white md:bg-transparent p-5 md:p-0 rounded-[2rem] md:rounded-none border border-slate-100 md:border-none shadow-sm md:shadow-none animate-in fade-in slide-in-from-bottom-4 duration-300 group"},[e("div",P,[e("div",D,[e("label",q,s(l.$t("col_activity")),1),u(y,{modelValue:n.title,"onUpdate:modelValue":i=>n.title=i,placeholder:l.$t("placeholder_activity"),class:a(["w-full text-sm font-bold py-3.5 px-4 !rounded-2xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-0 transition-all bg-white",{"!border-rose-300 !bg-rose-50":t.form.errors[`tasks.${c}.title`]}])},null,8,["modelValue","onUpdate:modelValue","placeholder","class"])]),e("div",A,[e("label",H,s(l.$t("col_start")),1),p(e("input",{type:"time","onUpdate:modelValue":i=>n.start_time=i,class:a(["w-full border-2 border-slate-200 bg-white rounded-2xl text-sm py-3.5 px-1 text-center font-black text-slate-700 focus:border-indigo-500 focus:ring-0 cursor-pointer transition-all shadow-sm",{"!border-rose-500 !bg-rose-50 !text-rose-700":t.form.errors[`tasks.${c}.start_time`]}])},null,10,I),[[f,n.start_time]])]),e("div",O,[e("label",W,s(l.$t("col_end")),1),p(e("input",{type:"time","onUpdate:modelValue":i=>n.end_time=i,class:a(["w-full border-2 border-slate-200 bg-white rounded-2xl text-sm py-3.5 px-1 text-center font-black text-slate-700 focus:border-indigo-500 focus:ring-0 cursor-pointer transition-all shadow-sm",{"!border-rose-500 !bg-rose-50 !text-rose-700":t.form.errors[`tasks.${c}.end_time`]}])},null,10,G),[[f,n.end_time]])]),e("div",J,[e("label",K,s(l.$t("col_priority")),1),e("div",Q,[p(e("select",{"onUpdate:modelValue":i=>n.type=i,class:a(["w-full border-2 border-slate-200 rounded-2xl text-[10px] py-3.5 pl-3 pr-8 font-black uppercase tracking-tighter text-slate-700 focus:border-indigo-500 focus:ring-0 bg-white appearance-none cursor-pointer transition-all",{"!text-rose-600 !bg-rose-50":n.type==1,"!text-indigo-600 !bg-indigo-50":n.type==2,"!text-emerald-600 !bg-emerald-50":n.type==3}])},[e("option",Y,s(l.$t("priority_urgent")),1),e("option",Z,s(l.$t("priority_work")),1),e("option",ee,s(l.$t("priority_normal")),1)],10,X),[[v,n.type]]),o[8]||(o[8]=e("div",{class:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-slate-400"},[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"4"},[e("path",{d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",te,[e("button",{onClick:i=>t.removeRow(c),type:"button",class:a(["w-10 h-10 md:w-8 md:h-8 rounded-xl flex items-center justify-center text-slate-300 hover:text-rose-500 hover:bg-rose-50 transition-all active:scale-90",{"opacity-0 pointer-events-none":t.form.tasks.length<=1}]),disabled:t.form.tasks.length<=1},[...o[9]||(o[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],10,oe)])])]))),128))]),e("button",{onClick:o[2]||(o[2]=(...n)=>t.addRow&&t.addRow(...n)),type:"button",class:"mt-8 w-full py-4 border-2 border-dashed border-slate-200 rounded-[1.5rem] text-slate-400 font-black uppercase tracking-widest text-[10px] hover:border-indigo-400 hover:text-indigo-600 hover:bg-white transition-all flex items-center justify-center gap-3 group active:scale-95 shadow-sm"},[o[10]||(o[10]=e("span",{class:"w-6 h-6 rounded-lg bg-slate-100 text-slate-400 flex items-center justify-center text-xs group-hover:bg-indigo-600 group-hover:text-white transition-all shadow-sm"},"+",-1)),d(" "+s(l.$t("btn_add_another")),1)])]),e("div",se,[e("div",le,[o[11]||(o[11]=e("span",{class:"w-2 h-2 rounded-full bg-indigo-500"},null,-1)),d(" "+s(l.$t("total_label"))+" ",1),e("span",ne,s(t.form.tasks.length),1),d(" "+s(l.$t("total_suffix")),1)]),e("div",ie,[u($,{onClick:t.close,class:"flex-1 !py-3.5 !rounded-[1.2rem] !text-[10px] !font-black !uppercase !tracking-widest !border-2 !text-slate-400 hover:!text-slate-600"},{default:b(()=>[d(s(l.$t("btn_cancel")),1)]),_:1},8,["onClick"]),u(_,{onClick:t.submit,disabled:t.form.processing||t.conflictError,class:a(["flex-[2] !bg-indigo-600 hover:!bg-indigo-700 !rounded-[1.2rem] !py-3.5 !px-8 shadow-xl shadow-indigo-100 transition-all transform active:scale-95 font-black uppercase tracking-widest text-[10px]",{"!bg-slate-300 !text-slate-500 !cursor-not-allowed !shadow-none !transform-none":t.conflictError}])},{default:b(()=>[t.form.processing?(r(),m("span",ae,s(l.$t("btn_saving")),1)):(r(),m("span",re,s(l.$t("btn_save_all")),1))]),_:1},8,["onClick","disabled","class"])])])])]),_:1},8,["show","onClose"]))}},ge=C(de,[["__scopeId","data-v-fcbcef08"]]);export{ge as default};
