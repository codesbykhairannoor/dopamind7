import{q as i,r as s,Q as m,J as f}from"./vendor-vue-CtYpV4Sv.js";const a=typeof window<"u",c=s(a&&localStorage.getItem("finance_currency")||"IDR"),u=s(a&&localStorage.getItem("finance_locale")||"id-ID");function v(){const d=i(()=>{var e;const n=m();return((e=n==null?void 0:n.props)==null?void 0:e.locale)||f()||"id"}),r=[{code:"IDR",locale:"id-ID",label:"Rupiah (Rp)",icon:"ðŸ‡®ðŸ‡©"},{code:"USD",locale:"en-US",label:"Dollar ($)",icon:"ðŸ‡ºðŸ‡¸"},{code:"GBP",locale:"en-GB",label:"Pound (Â£)",icon:"ðŸ‡¬ðŸ‡§"},{code:"EUR",locale:"de-DE",label:"Euro (â‚¬)",icon:"ðŸ‡ªðŸ‡º"},{code:"JPY",locale:"ja-JP",label:"Yen (Â¥)",icon:"ðŸ‡¯ðŸ‡µ"}],l=i(()=>["USD","GBP","EUR"].includes(c.value));return{activeCurrency:c,appLocale:d,supportedCurrencies:r,setCurrency:n=>{const e=r.find(o=>o.code===n);e&&(c.value=e.code,u.value=e.locale,a&&(localStorage.setItem("finance_currency",e.code),localStorage.setItem("finance_locale",e.locale)))},formatMoney:n=>new Intl.NumberFormat(u.value,{style:"currency",currency:c.value,minimumFractionDigits:l.value?2:0,maximumFractionDigits:l.value?2:0}).format(n),cleanAmount:n=>{if(!n)return 0;let e=n.toString();return["USD","GBP"].includes(c.value)?e=e.replace(/,/g,""):["IDR","EUR","de-DE"].includes(c.value)&&(e=e.replace(/\./g,"").replace(/,/g,".")),parseFloat(e)||0},formatInputDisplay:n=>{if(!n&&n!==0)return"";const e=n.toString();return["IDR","EUR","de-DE"].includes(c.value)?e.replace(/\B(?=(\d{3})+(?!\d))/g,"."):e.replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCategoryDetails:(n,e=[])=>{if(!n)return{name:"",icon:"â“"};const o=e.find(t=>t.slug===n);return o?{name:o.name,icon:o.icon}:{name:n.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),icon:"ðŸ“¦"}}}}export{v as u};
