import{s as D,k as V,a as d,n as x,d as t,e as a,m as B,y as u,p as v,B as j,q as c,K as M,F as z,A as F,b as y,r as S,w as U,o as i,z as N,C as R}from"./vendor-vue-CtYpV4Sv.js";import{d as Y}from"./vendor-core-Dt3pqkYV.js";import{u as E}from"./useFinanceFormat-eCFPRksq.js";import I from"./FinanceDatePicker-CuVgV-P2.js";import"./vendor-inertia-CzGZ5YH6.js";import"./vendor-utils-2VVJO3Sv.js";const T={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4"},A={class:"bg-white w-full max-w-md rounded-[2rem] shadow-2xl z-10 p-6 animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 border border-slate-100 relative overflow-visible"},P={class:"flex justify-between items-center mb-6"},L={class:"text-xl font-black text-slate-800"},q={class:"flex bg-slate-100 p-1.5 rounded-2xl"},G={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},J=["placeholder"],K={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},O={class:"relative group"},H={class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold"},Q=["value"],W={class:"flex flex-col sm:grid sm:grid-cols-2 gap-4"},X={class:"w-full"},Z={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},_={class:"relative"},ee={value:"",disabled:"",selected:""},te=["value"],se={class:"relative w-full"},oe={class:"block text-[10px] uppercase font-bold text-slate-400 tracking-widest mb-1.5"},le={class:"truncate"},ae={key:0,class:"absolute bottom-full right-0 sm:right-0 mb-2 z-50 shadow-2xl rounded-3xl origin-bottom sm:origin-bottom-right"},ne={class:"flex gap-3 pt-4"},fe={__name:"TransactionModal",props:{show:Boolean,form:Object,budgets:Array,categories:Array,close:Function,submit:Function},setup(l){const n=l,{activeCurrency:m,getCategoryDetails:h,appLocale:f}=E(),r=S(!1),w=c(()=>n.form.type==="income"?n.categories.filter(o=>o.type==="income").map(o=>o.slug):n.budgets.map(e=>e.category)),b=o=>h(o,n.categories);D(()=>n.form.type,()=>{n.form.category=""});const p=c(()=>["IDR","EUR","de-DE"].includes(m.value)),g=c(()=>({IDR:"Rp",USD:"$",GBP:"Â£",EUR:"â‚¬",JPY:"Â¥"})[m.value]||m.value),k=c(()=>{if(!n.form.date)return"";const o=f.value?f.value.split("-")[0]:"id";return Y(n.form.date).locale(o).format("dddd, DD MMMM YYYY")}),$=o=>{if(!o)return"";const e=o.toString();return p.value?e.replace(/\B(?=(\d{3})+(?!\d))/g,"."):e.replace(/\B(?=(\d{3})+(?!\d))/g,",")},C=o=>{let e=o.target.value,s;p.value?s=e.replace(/\./g,""):s=e.replace(/,/g,""),isNaN(s)||(n.form.amount=s)};return(o,e)=>(i(),V(R,{to:"body"},[l.show?(i(),d("div",T,[t("div",{onClick:e[0]||(e[0]=(...s)=>l.close&&l.close(...s)),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),t("div",A,[t("div",P,[t("h3",L,"âœ¨ "+a(o.$t("record_transaction")),1),t("button",{onClick:e[1]||(e[1]=(...s)=>l.close&&l.close(...s)),class:"bg-slate-50 p-2 rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition"},"âœ•")]),t("form",{onSubmit:e[10]||(e[10]=B((...s)=>l.submit&&l.submit(...s),["prevent"])),class:"space-y-5"},[t("div",q,[t("button",{type:"button",onClick:e[2]||(e[2]=s=>n.form.type="expense"),class:u(["flex-1 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2",n.form.type==="expense"?"bg-white text-rose-600 shadow-sm":"text-slate-400 hover:text-slate-600"])}," ðŸ’¸ "+a(o.$t("expense")),3),t("button",{type:"button",onClick:e[3]||(e[3]=s=>n.form.type="income"),class:u(["flex-1 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2",n.form.type==="income"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600"])}," ðŸ’° "+a(o.$t("income")),3)]),t("div",null,[t("label",G,a(o.$t("description")),1),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.form.title=s),type:"text",placeholder:o.$t("desc_placeholder"),class:"w-full px-4 py-3.5 rounded-2xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-bold text-slate-700 placeholder:text-slate-300 transition-all"},null,8,J),[[j,l.form.title]])]),t("div",null,[t("label",K,a(o.$t("amount"))+" ("+a(g.value)+")",1),t("div",O,[t("span",H,a(g.value),1),t("input",{type:"text",value:$(l.form.amount),onInput:C,placeholder:"0",class:"w-full pl-12 pr-4 py-3.5 rounded-2xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-black text-lg text-slate-700 placeholder:text-slate-300 transition-all"},null,40,Q)])]),t("div",W,[t("div",X,[t("label",Z,a(o.$t("category")),1),t("div",_,[v(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>l.form.category=s),class:"w-full pl-4 pr-8 py-3.5 rounded-2xl bg-slate-50 border-none focus:ring-2 focus:ring-indigo-500 font-bold text-slate-700 capitalize text-sm appearance-none cursor-pointer hover:bg-slate-50"},[t("option",ee,a(o.$t("select_placeholder")),1),(i(!0),d(z,null,F(w.value,s=>(i(),d("option",{key:s,value:s},a(b(s).icon)+" "+a(b(s).name),9,te))),128))],512),[[M,l.form.category]]),e[11]||(e[11]=t("div",{class:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"},"â–¼",-1))])]),t("div",se,[t("label",oe,a(o.$t("date")),1),t("button",{type:"button",onClick:e[6]||(e[6]=s=>r.value=!r.value),class:u(["w-full px-4 py-3.5 rounded-2xl bg-slate-50 hover:bg-slate-100 text-left font-bold text-slate-700 text-sm transition-all flex items-center justify-between",r.value?"ring-2 ring-indigo-500 bg-white":""])},[t("span",le,a(k.value),1),e[12]||(e[12]=t("span",{class:"text-slate-400 text-xs"},"ðŸ“…",-1))],2),y(N,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:U(()=>[r.value?(i(),d("div",ae,[y(I,{show:!0,modelValue:l.form.date,"onUpdate:modelValue":e[7]||(e[7]=s=>l.form.date=s),onClose:e[8]||(e[8]=s=>r.value=!1)},null,8,["modelValue"])])):x("",!0)]),_:1})])]),t("div",ne,[t("button",{type:"button",onClick:e[9]||(e[9]=(...s)=>l.close&&l.close(...s)),class:"flex-1 py-3.5 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition"},a(o.$t("btn_cancel")),1),t("button",{type:"submit",class:u(["flex-[2] py-3.5 text-white font-bold rounded-2xl shadow-lg active:scale-95 transition-all flex justify-center items-center gap-2",l.form.type==="expense"?"bg-rose-500 hover:bg-rose-600 shadow-rose-200":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-200"])},a(o.$t("btn_save")),3)])],32)])])):x("",!0)]))}};export{fe as default};
