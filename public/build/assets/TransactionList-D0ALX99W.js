import{d as i,f as e,e as x,g as l,u as o,q as g,C as m,y as _,z as w,p as k,F as y,E as D,o as r}from"./vendor-BNleA0cf.js";import{u as $}from"./useFinanceHistory-Cjm9RuIU.js";import{u as M}from"./useFinanceFormat-B8cI5cQH.js";import C from"./ArchiveModal-8gyEjo92.js";import F from"./FinanceDatePicker-DfZKm9Vc.js";import"./Modal-B0UrVx8a.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"space-y-4"},L={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},z={class:"flex items-center gap-2"},E={class:"text-lg font-bold text-slate-800"},V={key:0,class:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg"},B={key:1,class:"text-[10px] font-bold text-indigo-500 bg-indigo-50 px-2 py-1 rounded-lg"},A={class:"relative z-20"},O={class:"flex items-center"},Y={class:"absolute right-0 top-full mt-2"},N={key:0,class:"text-center py-12 bg-white rounded-3xl border border-dashed border-slate-200"},H={class:"text-slate-400 text-sm font-medium"},S={key:1,class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden divide-y divide-slate-50"},q=["onClick"],P={class:"flex items-center gap-4"},T={class:"w-12 h-12 rounded-xl bg-slate-50 border border-slate-100 flex flex-col items-center justify-center group-hover:bg-white transition-all shadow-sm"},U={class:"text-[10px] uppercase font-black text-slate-400 leading-none"},G={class:"text-xl font-black leading-none text-slate-700 mt-0.5"},I={class:"font-bold text-slate-700 text-sm capitalize"},J={class:"text-[11px] text-slate-400 font-bold bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100 mt-1 inline-block"},K={class:"flex items-center gap-6"},Q={class:"pl-4 border-l border-slate-100 text-right"},R={class:"block text-[9px] font-bold text-slate-400 uppercase tracking-wider"},W={key:0,class:"bg-slate-50/50 p-2.5 text-center border-t border-slate-100"},X={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},ie={__name:"TransactionList",props:{transactions:Array,categories:Array,onDelete:Function,onEdit:Function},setup(d){const f=d,{visibleStats:p,filterDate:n,isArchiveOpen:u,selectedDayData:b,openDetail:h}=$(f),{formatMoney:v}=M(),c=_(!1);return(a,s)=>(r(),i("div",j,[e("div",L,[e("div",z,[e("h3",E,l(a.$t("daily_history")),1),o(n)?(r(),i("span",B,l(a.$t("search_result")),1)):(r(),i("span",V,l(a.$t("last_5")),1))]),e("div",A,[e("div",O,[e("button",{onClick:s[0]||(s[0]=t=>c.value=!c.value),class:m(["pl-3 pr-8 py-2 text-xs font-bold bg-white border border-slate-200 rounded-xl shadow-sm hover:border-indigo-300 hover:ring-2 hover:ring-indigo-500/10 transition-all flex items-center gap-2 min-w-[150px]",o(n)?"text-indigo-600 border-indigo-200":"text-slate-500"])},[s[4]||(s[4]=e("span",{class:"text-base"},"ðŸ“…",-1)),e("span",null,l(o(n)?o(w)(o(n)).locale(a.$page.props.locale).format("DD MMM YYYY"):a.$t("date_filter")),1)],2),o(n)?(r(),i("button",{key:0,onClick:s[1]||(s[1]=k(t=>n.value="",["stop"])),class:"absolute right-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 p-1 rounded-full transition-all",title:"Hapus Filter"},[...s[5]||(s[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])):g("",!0)]),e("div",Y,[x(F,{show:c.value,modelValue:o(n),"onUpdate:modelValue":s[2]||(s[2]=t=>n.value=t),onClose:s[3]||(s[3]=t=>c.value=!1)},null,8,["show","modelValue"])])])]),d.transactions.length===0?(r(),i("div",N,[s[6]||(s[6]=e("div",{class:"text-3xl mb-2"},"ðŸ“’",-1)),e("p",H,l(a.$t("no_transaction")),1)])):(r(),i("div",S,[(r(!0),i(y,null,D(o(p),t=>(r(),i("div",{key:t.date,onClick:Z=>o(h)(t),class:"group p-4 flex items-center justify-between hover:bg-indigo-50/50 transition-colors cursor-pointer"},[e("div",P,[e("div",T,[e("span",U,l(t.dateObj.format("MMM")),1),e("span",G,l(t.dateObj.format("DD")),1)]),e("div",null,[e("h4",I,l(t.dateObj.format("dddd")),1),e("span",J,l(a.$t("transaction_count",{count:t.transactions.length})),1)])]),e("div",K,[e("div",Q,[e("span",R,l(a.$t("daily_net")),1),e("span",{class:m(["text-sm font-black font-mono",t.total_income-t.total_expense>=0?"text-indigo-600":"text-orange-500"])},l(t.total_income-t.total_expense>=0?"+":"")+l(o(v)(t.total_income-t.total_expense)),3)]),s[7]||(s[7]=e("span",{class:"text-slate-300 group-hover:text-indigo-400 transition-colors"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1))])],8,q))),128)),!o(n)&&o(p).length===5?(r(),i("div",W,[e("p",X,l(a.$t("old_data_hint")),1)])):g("",!0)])),x(C,{show:o(u),dayData:o(b),categories:d.categories,close:()=>u.value=!1,onDelete:d.onDelete,onEdit:d.onEdit},null,8,["show","dayData","categories","close","onDelete","onEdit"])]))}};export{ie as default};
