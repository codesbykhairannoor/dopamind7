import{d as l}from"./vendor-core-CzOEOszY.js";import{u as v}from"./useFinanceFormat-BzdLqOPi.js";import{r as n,p as b}from"./vendor-vue-BnW7Nrl4.js";function Y(u){const{appLocale:p}=v(),c=n(!1),r=n(null),o=n(""),d=b(()=>{const t={},m=u.transactions||[];let s=p.value;const f=s.includes("-")?s.split("-")[0]:s;m.forEach(e=>{const a=l(e.date).format("YYYY-MM-DD");t[a]||(t[a]={date:a,dateObj:l(e.date).locale(f),transactions:[],total_income:0,total_expense:0}),t[a].transactions.push(e),e.type==="income"?t[a].total_income+=Number(e.amount):t[a].total_expense+=Number(e.amount)});const i=Object.values(t).sort((e,a)=>a.dateObj-e.dateObj);return o.value?i.filter(e=>e.date===o.value):i.slice(0,4)});return{filterDate:o,visibleStats:d,isArchiveOpen:c,selectedDayData:r,openDetail:t=>{r.value=t,c.value=!0}}}export{Y as u};
