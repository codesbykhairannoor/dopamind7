import{r as B,q as I,a,m as v,d as o,l as u,e as h,p as i,F as f,z as g,Q as K,o as l,x,u as L}from"./vendor-vue-BnW7Nrl4.js";import{d as r,j as $}from"./vendor-core-CzOEOszY.js";import"./vendor-inertia-DLGDmWoM.js";import"./vendor-utils-vWQA-h1x.js";const A={key:0,class:"w-[280px] sm:w-[320px]"},E={class:"relative z-50 bg-white rounded-3xl shadow-xl border border-slate-100 p-5"},F={class:"flex items-center justify-between mb-4"},H={class:"font-bold text-slate-700 capitalize text-sm"},O={class:"grid grid-cols-7 mb-2 text-center"},P={class:"grid grid-cols-7 gap-1"},q=["onClick"],J={class:"text-xs sm:text-sm font-bold leading-none"},N={key:0,class:"mt-1 flex gap-0.5"},Q={key:1,class:"absolute -top-1 -right-1 flex h-2 w-2"},R={class:"mt-4 pt-3 border-t border-slate-50 text-center"},Z={__name:"PlannerDatePicker",props:{modelValue:String,tasks:{type:Array,default:()=>[]},show:Boolean},emits:["update:modelValue","close"],setup(b,{emit:k}){r.extend($);const c=b,m=k,w=i(()=>K().props.locale||"id"),Y=i(()=>w.value.split("-")[0]),_=i(()=>{const t={};return c.tasks.forEach(n=>{const e=r(n.date).format("YYYY-MM-DD");t[e]||(t[e]={total:0,completed:0}),t[e].total++,n.is_completed&&t[e].completed++}),t}),p=t=>_.value[s.value.date(t).format("YYYY-MM-DD")],D=i(()=>{try{return r().locale(Y.value).localeData().weekdaysShort()}catch{return["Min","Sen","Sel","Rab","Kam","Jum","Sab"]}}),s=B(r(c.modelValue||void 0));I(()=>c.modelValue,t=>{t&&(s.value=r(t))});const y=i(()=>s.value.daysInMonth()),C=i(()=>s.value.startOf("month").day()),S=i(()=>s.value.locale(Y.value).format("MMMM YYYY")),V=()=>s.value=s.value.subtract(1,"month"),z=()=>s.value=s.value.add(1,"month"),j=t=>{m("update:modelValue",s.value.date(t).format("YYYY-MM-DD")),m("close")},d=t=>c.modelValue===s.value.date(t).format("YYYY-MM-DD"),M=t=>r().format("YYYY-MM-DD")===s.value.date(t).format("YYYY-MM-DD");return(t,n)=>b.show?(l(),a("div",A,[o("div",{class:"fixed inset-0 z-40",onClick:n[0]||(n[0]=e=>m("close"))}),o("div",E,[o("div",F,[o("button",{onClick:u(V,["prevent"]),class:"p-2 rounded-xl hover:bg-slate-50 text-slate-400 hover:text-indigo-600 transition"},"◀"),o("h4",H,h(S.value),1),o("button",{onClick:u(z,["prevent"]),class:"p-2 rounded-xl hover:bg-slate-50 text-slate-400 hover:text-indigo-600 transition"},"▶")]),o("div",O,[(l(!0),a(f,null,g(D.value,e=>(l(),a("span",{key:e,class:"text-[10px] font-bold text-slate-400 uppercase"},h(e),1))),128))]),o("div",P,[(l(!0),a(f,null,g(C.value,e=>(l(),a("div",{key:"blank-"+e}))),128)),(l(!0),a(f,null,g(y.value,e=>(l(),a("button",{key:e,onClick:u(T=>j(e),["prevent"]),class:x(["h-9 w-9 sm:h-10 sm:w-10 rounded-xl flex flex-col items-center justify-center transition-all relative group",[d(e)?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-600 hover:bg-slate-50 hover:text-indigo-600",M(e)&&!d(e)?"ring-1 ring-indigo-200 bg-indigo-50/50":""]])},[o("span",J,h(e),1),p(e)?(l(),a("div",N,[p(e).completed<p(e).total?(l(),a("span",{key:0,class:x(["w-1.5 h-1.5 rounded-full bg-indigo-400 shadow-sm",d(e)?"bg-indigo-200":""])},null,2)):(l(),a("span",{key:1,class:x(["w-1.5 h-1.5 rounded-full bg-emerald-400 shadow-sm",d(e)?"bg-emerald-200":""])},null,2))])):v("",!0),M(e)&&!d(e)?(l(),a("span",Q,[...n[2]||(n[2]=[o("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"},null,-1),o("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"},null,-1)])])):v("",!0)],10,q))),128))]),o("div",R,[o("button",{onClick:n[1]||(n[1]=u(e=>s.value=L(r)(),["prevent"])),class:"text-[10px] font-bold text-slate-400 hover:text-indigo-600 uppercase tracking-widest transition"},"Ke Hari Ini")])])])):v("",!0)}};export{Z as default};
