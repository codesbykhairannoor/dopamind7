import{q as b,a as h,d as i,e as f,b as g,u as d,L as _,o as y}from"./vendor-vue-B8_xP8cx.js";import{d as m,C as x,a as w,b as D,P as C,e as k,p as v,f as A,h as E,i as R}from"./vendor-core-Be3KM5vE.js";import{u as S}from"./useFinanceFormat-DMCporwW.js";import"./vendor-inertia-B6eYFyrx.js";import"./vendor-utils-8hC8U92q.js";function I(e){const{formatMoney:l}=S(),n=(t,o)=>{if(typeof window.trans=="function"){const a=window.trans(t);return a!==t?a:o}return o};return{chartData:b(()=>{if(!e.currentDate)return{labels:[],datasets:[]};const t=m(e.currentDate).daysInMonth(),o=Array.from({length:t},(s,r)=>r+1),a=new Array(t).fill(0),p=new Array(t).fill(0);return e.transactions.forEach(s=>{const r=m(s.date).date()-1;s.type==="income"?a[r]+=Number(s.amount):p[r]+=Number(s.amount)}),{labels:o,datasets:[{label:n("income","Income"),backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"#10b981",data:a,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6},{label:n("expense","Expense"),backgroundColor:"rgba(244, 63, 94, 0.1)",borderColor:"#f43f5e",data:p,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6}]}}),chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:8}},tooltip:{mode:"index",intersect:!1,callbacks:{label:t=>` ${t.dataset.label}: ${l(t.raw)}`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9",borderDash:[5,5]},ticks:{callback:t=>t/1e3+"k"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}}const L={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 w-full mt-8"},N={class:"flex justify-between items-center mb-6"},$={class:"font-bold text-slate-700 text-sm uppercase tracking-wider"},B={class:"text-xs text-slate-400"},F={class:"h-[300px] w-full"},V={__name:"DailyTrendChart",props:{transactions:Array,currentDate:String},setup(e){x.register(w,D,C,k,v,A,E,R);const l=e,{chartData:n,chartOptions:u}=I(l);return(c,t)=>(y(),h("div",L,[i("div",N,[i("h3",$,f(c.$t("finance_trend")),1),i("span",B,f(c.$t("daily_chart")),1)]),i("div",F,[g(d(_),{data:d(n),options:d(u)},null,8,["data","options"])])]))}};export{V as default};
