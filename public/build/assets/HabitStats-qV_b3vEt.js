import{r as x,h as p,c as n,g as u,b as t,t as e,a as b,u as f,n as m,w as _,o as i,F as v,p as k,m as w}from"./app-DBmEpP_-.js";import{C as y,p as C,c as M,d as S,b as $,a as D,L as H,P as L,i as P,e as N}from"./index-LkhnIfyr.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={key:0,class:"mt-16 pb-16 w-full"},z={class:"grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 px-4 md:px-0 md:max-w-[95%] mx-auto"},A={class:"md:col-span-5 bg-white rounded-[2.5rem] p-6 shadow-sm border border-slate-100 relative overflow-hidden"},B={class:"relative z-10"},E={class:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 block mb-1"},F={class:"flex items-end gap-1"},V={class:"text-4xl font-black text-slate-800"},R={class:"absolute inset-x-0 bottom-0 h-24"},G={class:"md:col-span-3 bg-indigo-600 rounded-[2.5rem] p-6 text-white shadow-xl shadow-indigo-100 relative overflow-hidden"},I={key:0},T={class:"text-[10px] font-black uppercase tracking-widest text-indigo-200 block mb-3"},W={class:"text-3xl mb-1"},q={class:"text-lg font-black truncate"},J={class:"mt-4 flex justify-between items-center"},K={class:"text-[10px] font-bold uppercase text-indigo-200"},Q={class:"text-xl font-black"},U={class:"md:col-span-4 relative"},X={class:"flex-1 min-w-0"},Y={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 block mb-1"},Z={class:"text-xl font-black truncate uppercase"},tt={key:0,class:"absolute bottom-full mb-4 left-0 w-full bg-white rounded-[2rem] shadow-2xl border border-slate-100 p-3 z-30 grid grid-cols-2 gap-2"},et=["onClick"],st={class:"text-xl"},at={class:"font-bold text-[10px] uppercase truncate"},ot={__name:"HabitStats",props:{localHabits:Array,overallPercentage:Number,totalCompletions:Number,currentMoodData:Object,moodOptions:Array,savedMood:String,selectMood:Function},setup(a){y.register(C,M,S,$,D,H,L,P);const r=a,d=x(!1),g=p(()=>({labels:["","","","","","",""],datasets:[{label:"Progres",data:[40,60,45,70,55,80,r.overallPercentage],borderColor:"#818cf8",backgroundColor:s=>{const o=s.chart.ctx.createLinearGradient(0,0,0,100);return o.addColorStop(0,"rgba(129,140,248,0.4)"),o.addColorStop(1,"rgba(129,140,248,0)"),o},fill:!0,tension:.4,pointRadius:0,borderWidth:3}]})),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1,min:0,max:100}}},c=p(()=>{var s;return(s=r.localHabits)!=null&&s.length?[...r.localHabits].sort((o,l)=>l.progress_count-o.progress_count)[0]:null});return(s,o)=>a.localHabits.length?(i(),n("section",j,[t("div",z,[t("div",A,[t("div",B,[t("span",E,e(s.$t("label_consistency")),1),t("div",F,[t("span",V,e(a.overallPercentage),1),o[1]||(o[1]=t("span",{class:"text-sm font-bold text-indigo-500 mb-1.5"},"%",-1))])]),t("div",R,[b(f(N),{data:g.value,options:h},null,8,["data"])])]),t("div",G,[c.value?(i(),n("div",I,[t("span",T,e(s.$t("label_mvp_habit")),1),t("div",W,e(c.value.icon),1),t("div",q,e(c.value.name),1)])):u("",!0),t("div",J,[t("span",K,e(s.$t("label_checkins")),1),t("span",Q,e(a.totalCompletions),1)])]),t("div",U,[t("button",{onClick:o[0]||(o[0]=l=>d.value=!d.value),class:"w-full h-full bg-white rounded-[2.5rem] p-6 border border-slate-100 shadow-sm flex items-center gap-5 text-left"},[t("div",{class:m(["w-16 h-16 rounded-3xl flex items-center justify-center text-3xl shadow-inner",a.currentMoodData.color])},e(a.currentMoodData.icon),3),t("div",X,[t("span",Y,e(s.$t("label_mood_status")),1),t("div",Z,e(s.$t(a.currentMoodData.label_key)),1)])]),b(w,{name:"pop"},{default:_(()=>[d.value?(i(),n("div",tt,[(i(!0),n(v,null,k(a.moodOptions,l=>(i(),n("button",{key:l.code,onClick:lt=>{a.selectMood(l.code),d.value=!1},class:m(["flex items-center gap-3 p-3 rounded-2xl hover:bg-slate-50",a.savedMood===l.code?"bg-indigo-50":""])},[t("span",st,e(l.icon),1),t("span",at,e(s.$t(l.label_key).split(" ")[0]),1)],10,et))),128))])):u("",!0)]),_:1})])])])):u("",!0)}},rt=O(ot,[["__scopeId","data-v-15890991"]]);export{rt as default};
